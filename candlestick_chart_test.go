package charts

import (
	"fmt"
	"regexp"
	"strconv"
	"testing"

	"github.com/stretchr/testify/assert"
	"github.com/stretchr/testify/require"
)

func makeBasicCandlestickData() []OHLCData {
	return []OHLCData{
		{Open: 100, High: 110, Low: 95, Close: 105},
		{Open: 105, High: 115, Low: 100, Close: 112},
		{Open: 112, High: 118, Low: 108, Close: 115},
		{Open: 115, High: 120, Low: 105, Close: 108}, // bearish
		{Open: 108, High: 113, Low: 105, Close: 109},
	}
}

func makeBasicCandlestickChartOption() CandlestickChartOption {
	return CandlestickChartOption{
		Title: TitleOption{
			Text: "Candlestick Chart",
		},
		Theme:   GetTheme(ThemeVividLight),
		Padding: NewBoxEqual(10),
		XAxis: XAxisOption{
			Labels: []string{"Jan", "Feb", "Mar", "Apr", "May"},
		},
		YAxis: make([]YAxisOption, 1),
		Legend: LegendOption{
			SeriesNames: []string{"Price"},
		},
		SeriesList: CandlestickSeriesList{{Data: makeBasicCandlestickData()}},
	}
}

func makeMinimalCandlestickChartOption() CandlestickChartOption {
	return CandlestickChartOption{
		Theme:   GetTheme(ThemeVividLight),
		Padding: NewBoxEqual(10),
		XAxis: XAxisOption{
			Labels: []string{"1", "2", "3", "4", "5"},
			Show:   Ptr(false),
		},
		YAxis:      make([]YAxisOption, 1),
		SeriesList: CandlestickSeriesList{{Data: makeBasicCandlestickData()}},
	}
}

func TestCandlestickChart(t *testing.T) {
	t.Parallel()

	tests := []struct {
		name        string
		makeOptions func() CandlestickChartOption
		svg         string
		pngCRC      uint32
	}{
		{
			name:        "basic",
			makeOptions: makeBasicCandlestickChartOption,
			svg:         "<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 800 600\"><path  d=\"M 0 0\nL 800 0\nL 800 600\nL 0 600\nL 0 0\" style=\"stroke:none;fill:white\"/><path  d=\"M 367 26\nL 382 26\nL 374 13\nL 367 26\" style=\"stroke:none;fill:rgb(34,197,94)\"/><path  d=\"M 382 13\nL 397 13\nL 389 26\nL 382 13\" style=\"stroke:none;fill:rgb(239,68,68)\"/><text x=\"399\" y=\"25\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Price</text><text x=\"10\" y=\"26\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Candlestick Chart</text><text x=\"30\" y=\"52\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">125</text><text x=\"9\" y=\"109\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">121.11</text><text x=\"9\" y=\"166\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">117.22</text><text x=\"9\" y=\"224\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">113.33</text><text x=\"9\" y=\"281\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">109.44</text><text x=\"9\" y=\"338\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">105.56</text><text x=\"9\" y=\"396\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">101.67</text><text x=\"17\" y=\"453\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">97.78</text><text x=\"17\" y=\"510\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">93.89</text><text x=\"39\" y=\"568\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">90</text><path  d=\"M 63 46\nL 790 46\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 103\nL 790 103\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 161\nL 790 161\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 218\nL 790 218\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 276\nL 790 276\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 333\nL 790 333\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 391\nL 790 391\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 448\nL 790 448\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 506\nL 790 506\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 67 564\nL 790 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 67 569\nL 67 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 211 569\nL 211 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 356 569\nL 356 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 500 569\nL 500 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 645 569\nL 645 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 790 569\nL 790 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><text x=\"126\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Jan</text><text x=\"270\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Feb</text><text x=\"414\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Mar</text><text x=\"560\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Apr</text><text x=\"702\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">May</text><path  d=\"M 139 268\nL 139 342\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 139 416\nL 139 490\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 111 268\nL 167 268\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 111 490\nL 167 490\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 82 342\nL 196 342\nL 196 416\nL 82 416\nL 82 342\" style=\"stroke:none;fill:rgb(34,197,94)\"/><path  d=\"M 283 194\nL 283 239\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 283 342\nL 283 416\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 255 194\nL 311 194\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 255 416\nL 311 416\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 226 239\nL 340 239\nL 340 342\nL 226 342\nL 226 239\" style=\"stroke:none;fill:rgb(34,197,94)\"/><path  d=\"M 428 150\nL 428 194\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 428 239\nL 428 298\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 400 150\nL 456 150\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 400 298\nL 456 298\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 371 194\nL 485 194\nL 485 239\nL 371 239\nL 371 194\" style=\"stroke:none;fill:rgb(34,197,94)\"/><path  d=\"M 572 120\nL 572 194\" style=\"stroke-width:1;stroke:rgb(239,68,68);fill:none\"/><path  d=\"M 572 298\nL 572 342\" style=\"stroke-width:1;stroke:rgb(239,68,68);fill:none\"/><path  d=\"M 544 120\nL 600 120\" style=\"stroke-width:1;stroke:rgb(239,68,68);fill:none\"/><path  d=\"M 544 342\nL 600 342\" style=\"stroke-width:1;stroke:rgb(239,68,68);fill:none\"/><path  d=\"M 515 194\nL 629 194\nL 629 298\nL 515 298\nL 515 194\" style=\"stroke:none;fill:rgb(239,68,68)\"/><path  d=\"M 717 224\nL 717 283\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 717 298\nL 717 342\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 689 224\nL 745 224\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 689 342\nL 745 342\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 660 283\nL 774 283\nL 774 298\nL 660 298\nL 660 283\" style=\"stroke:none;fill:rgb(34,197,94)\"/></svg>",
			pngCRC:      0x32af86cb,
		},
		{
			name:        "minimal",
			makeOptions: makeMinimalCandlestickChartOption,
			svg:         "<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 800 600\"><path  d=\"M 0 0\nL 800 0\nL 800 600\nL 0 600\nL 0 0\" style=\"stroke:none;fill:white\"/><text x=\"30\" y=\"16\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">125</text><text x=\"9\" y=\"80\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">121.11</text><text x=\"9\" y=\"144\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">117.22</text><text x=\"9\" y=\"208\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">113.33</text><text x=\"9\" y=\"272\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">109.44</text><text x=\"9\" y=\"337\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">105.56</text><text x=\"9\" y=\"401\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">101.67</text><text x=\"17\" y=\"465\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">97.78</text><text x=\"17\" y=\"529\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">93.89</text><text x=\"39\" y=\"594\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">90</text><path  d=\"M 63 10\nL 790 10\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 74\nL 790 74\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 138\nL 790 138\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 203\nL 790 203\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 267\nL 790 267\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 332\nL 790 332\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 396\nL 790 396\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 461\nL 790 461\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 525\nL 790 525\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 139 259\nL 139 342\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 139 425\nL 139 508\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 111 259\nL 167 259\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 111 508\nL 167 508\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 82 342\nL 196 342\nL 196 425\nL 82 425\nL 82 342\" style=\"stroke:none;fill:rgb(34,197,94)\"/><path  d=\"M 283 176\nL 283 226\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 283 342\nL 283 425\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 255 176\nL 311 176\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 255 425\nL 311 425\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 226 226\nL 340 226\nL 340 342\nL 226 342\nL 226 226\" style=\"stroke:none;fill:rgb(34,197,94)\"/><path  d=\"M 428 126\nL 428 176\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 428 226\nL 428 292\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 400 126\nL 456 126\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 400 292\nL 456 292\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 371 176\nL 485 176\nL 485 226\nL 371 226\nL 371 176\" style=\"stroke:none;fill:rgb(34,197,94)\"/><path  d=\"M 572 93\nL 572 176\" style=\"stroke-width:1;stroke:rgb(239,68,68);fill:none\"/><path  d=\"M 572 292\nL 572 342\" style=\"stroke-width:1;stroke:rgb(239,68,68);fill:none\"/><path  d=\"M 544 93\nL 600 93\" style=\"stroke-width:1;stroke:rgb(239,68,68);fill:none\"/><path  d=\"M 544 342\nL 600 342\" style=\"stroke-width:1;stroke:rgb(239,68,68);fill:none\"/><path  d=\"M 515 176\nL 629 176\nL 629 292\nL 515 292\nL 515 176\" style=\"stroke:none;fill:rgb(239,68,68)\"/><path  d=\"M 717 209\nL 717 276\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 717 292\nL 717 342\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 689 209\nL 745 209\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 689 342\nL 745 342\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 660 276\nL 774 276\nL 774 292\nL 660 292\nL 660 276\" style=\"stroke:none;fill:rgb(34,197,94)\"/></svg>",
			pngCRC:      0x25f686e9,
		},
		{
			name: "custom_style",
			makeOptions: func() CandlestickChartOption {
				opt := makeBasicCandlestickChartOption()
				opt.CandleWidth = 0.5
				opt.WickWidth = 2.0
				opt.SeriesList[0].ShowWicks = Ptr(false)
				return opt
			},
			svg:    "<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 800 600\"><path  d=\"M 0 0\nL 800 0\nL 800 600\nL 0 600\nL 0 0\" style=\"stroke:none;fill:white\"/><path  d=\"M 367 26\nL 382 26\nL 374 13\nL 367 26\" style=\"stroke:none;fill:rgb(34,197,94)\"/><path  d=\"M 382 13\nL 397 13\nL 389 26\nL 382 13\" style=\"stroke:none;fill:rgb(239,68,68)\"/><text x=\"399\" y=\"25\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Price</text><text x=\"10\" y=\"26\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Candlestick Chart</text><text x=\"30\" y=\"52\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">125</text><text x=\"9\" y=\"109\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">121.11</text><text x=\"9\" y=\"166\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">117.22</text><text x=\"9\" y=\"224\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">113.33</text><text x=\"9\" y=\"281\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">109.44</text><text x=\"9\" y=\"338\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">105.56</text><text x=\"9\" y=\"396\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">101.67</text><text x=\"17\" y=\"453\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">97.78</text><text x=\"17\" y=\"510\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">93.89</text><text x=\"39\" y=\"568\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">90</text><path  d=\"M 63 46\nL 790 46\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 103\nL 790 103\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 161\nL 790 161\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 218\nL 790 218\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 276\nL 790 276\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 333\nL 790 333\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 391\nL 790 391\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 448\nL 790 448\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 506\nL 790 506\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 67 564\nL 790 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 67 569\nL 67 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 211 569\nL 211 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 356 569\nL 356 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 500 569\nL 500 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 645 569\nL 645 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 790 569\nL 790 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><text x=\"126\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Jan</text><text x=\"270\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Feb</text><text x=\"414\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Mar</text><text x=\"560\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Apr</text><text x=\"702\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">May</text><path  d=\"M 103 342\nL 175 342\nL 175 416\nL 103 416\nL 103 342\" style=\"stroke:none;fill:rgb(34,197,94)\"/><path  d=\"M 247 239\nL 319 239\nL 319 342\nL 247 342\nL 247 239\" style=\"stroke:none;fill:rgb(34,197,94)\"/><path  d=\"M 392 194\nL 464 194\nL 464 239\nL 392 239\nL 392 194\" style=\"stroke:none;fill:rgb(34,197,94)\"/><path  d=\"M 536 194\nL 608 194\nL 608 298\nL 536 298\nL 536 194\" style=\"stroke:none;fill:rgb(239,68,68)\"/><path  d=\"M 681 283\nL 753 283\nL 753 298\nL 681 298\nL 681 283\" style=\"stroke:none;fill:rgb(34,197,94)\"/></svg>",
			pngCRC: 0x99491020,
		},
		{
			name: "doji",
			makeOptions: func() CandlestickChartOption {
				opt := makeBasicCandlestickChartOption()
				data := makeBasicCandlestickData()
				if len(data) > 0 {
					data[0] = OHLCData{Open: 100, High: 110, Low: 95, Close: 100}
				}
				opt.SeriesList[0] = CandlestickSeries{Data: data}
				return opt
			},
			svg:    "<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 800 600\"><path  d=\"M 0 0\nL 800 0\nL 800 600\nL 0 600\nL 0 0\" style=\"stroke:none;fill:white\"/><path  d=\"M 367 26\nL 382 26\nL 374 13\nL 367 26\" style=\"stroke:none;fill:rgb(34,197,94)\"/><path  d=\"M 382 13\nL 397 13\nL 389 26\nL 382 13\" style=\"stroke:none;fill:rgb(239,68,68)\"/><text x=\"399\" y=\"25\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Price</text><text x=\"10\" y=\"26\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Candlestick Chart</text><text x=\"30\" y=\"52\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">125</text><text x=\"9\" y=\"109\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">121.11</text><text x=\"9\" y=\"166\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">117.22</text><text x=\"9\" y=\"224\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">113.33</text><text x=\"9\" y=\"281\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">109.44</text><text x=\"9\" y=\"338\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">105.56</text><text x=\"9\" y=\"396\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">101.67</text><text x=\"17\" y=\"453\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">97.78</text><text x=\"17\" y=\"510\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">93.89</text><text x=\"39\" y=\"568\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">90</text><path  d=\"M 63 46\nL 790 46\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 103\nL 790 103\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 161\nL 790 161\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 218\nL 790 218\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 276\nL 790 276\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 333\nL 790 333\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 391\nL 790 391\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 448\nL 790 448\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 506\nL 790 506\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 67 564\nL 790 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 67 569\nL 67 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 211 569\nL 211 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 356 569\nL 356 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 500 569\nL 500 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 645 569\nL 645 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 790 569\nL 790 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><text x=\"126\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Jan</text><text x=\"270\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Feb</text><text x=\"414\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Mar</text><text x=\"560\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Apr</text><text x=\"702\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">May</text><path  d=\"M 139 268\nL 139 416\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 139 416\nL 139 490\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 111 268\nL 167 268\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 111 490\nL 167 490\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 82 416\nL 196 416\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 283 194\nL 283 239\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 283 342\nL 283 416\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 255 194\nL 311 194\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 255 416\nL 311 416\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 226 239\nL 340 239\nL 340 342\nL 226 342\nL 226 239\" style=\"stroke:none;fill:rgb(34,197,94)\"/><path  d=\"M 428 150\nL 428 194\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 428 239\nL 428 298\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 400 150\nL 456 150\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 400 298\nL 456 298\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 371 194\nL 485 194\nL 485 239\nL 371 239\nL 371 194\" style=\"stroke:none;fill:rgb(34,197,94)\"/><path  d=\"M 572 120\nL 572 194\" style=\"stroke-width:1;stroke:rgb(239,68,68);fill:none\"/><path  d=\"M 572 298\nL 572 342\" style=\"stroke-width:1;stroke:rgb(239,68,68);fill:none\"/><path  d=\"M 544 120\nL 600 120\" style=\"stroke-width:1;stroke:rgb(239,68,68);fill:none\"/><path  d=\"M 544 342\nL 600 342\" style=\"stroke-width:1;stroke:rgb(239,68,68);fill:none\"/><path  d=\"M 515 194\nL 629 194\nL 629 298\nL 515 298\nL 515 194\" style=\"stroke:none;fill:rgb(239,68,68)\"/><path  d=\"M 717 224\nL 717 283\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 717 298\nL 717 342\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 689 224\nL 745 224\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 689 342\nL 745 342\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 660 283\nL 774 283\nL 774 298\nL 660 298\nL 660 283\" style=\"stroke:none;fill:rgb(34,197,94)\"/></svg>",
			pngCRC: 0x282a668a,
		},
		{
			name: "dual_axis",
			makeOptions: func() CandlestickChartOption {
				opt := makeBasicCandlestickChartOption()
				secondSeriesData := []OHLCData{
					{Open: 200, High: 220, Low: 190, Close: 210},
					{Open: 210, High: 230, Low: 200, Close: 225},
					{Open: 225, High: 240, Low: 215, Close: 230},
					{Open: 230, High: 245, Low: 210, Close: 215},
					{Open: 215, High: 225, Low: 205, Close: 220},
				}
				// Add second Y axis and second series
				opt.YAxis = append(opt.YAxis, YAxisOption{})
				opt.SeriesList = append(opt.SeriesList, CandlestickSeries{
					Data:       secondSeriesData,
					YAxisIndex: 1,
					Name:       "Volume",
				})
				// Update legend to show both series
				opt.Legend.SeriesNames = []string{"Price", "Volume"}
				return opt
			},
			svg:    "<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 800 600\"><path  d=\"M 0 0\nL 800 0\nL 800 600\nL 0 600\nL 0 0\" style=\"stroke:none;fill:white\"/><path  d=\"M 314 26\nL 329 26\nL 321 13\nL 314 26\" style=\"stroke:none;fill:rgb(34,197,94)\"/><path  d=\"M 329 13\nL 344 13\nL 336 26\nL 329 13\" style=\"stroke:none;fill:rgb(239,68,68)\"/><text x=\"346\" y=\"25\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Price</text><path  d=\"M 402 26\nL 417 26\nL 409 13\nL 402 26\" style=\"stroke:none;fill:rgb(64,160,110)\"/><path  d=\"M 417 13\nL 432 13\nL 424 26\nL 417 13\" style=\"stroke:none;fill:rgb(250,128,80)\"/><text x=\"434\" y=\"25\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Volume</text><text x=\"10\" y=\"26\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Candlestick Chart</text><text x=\"764\" y=\"52\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">253</text><text x=\"764\" y=\"109\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">246</text><text x=\"764\" y=\"166\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">239</text><text x=\"764\" y=\"224\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">232</text><text x=\"764\" y=\"281\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">225</text><text x=\"764\" y=\"338\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">218</text><text x=\"764\" y=\"396\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">211</text><text x=\"764\" y=\"453\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">204</text><text x=\"764\" y=\"510\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">197</text><text x=\"764\" y=\"568\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">190</text><text x=\"30\" y=\"52\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">125</text><text x=\"9\" y=\"109\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">121.11</text><text x=\"9\" y=\"166\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">117.22</text><text x=\"9\" y=\"224\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">113.33</text><text x=\"9\" y=\"281\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">109.44</text><text x=\"9\" y=\"338\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">105.56</text><text x=\"9\" y=\"396\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">101.67</text><text x=\"17\" y=\"453\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">97.78</text><text x=\"17\" y=\"510\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">93.89</text><text x=\"39\" y=\"568\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">90</text><path  d=\"M 63 46\nL 754 46\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 103\nL 754 103\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 161\nL 754 161\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 218\nL 754 218\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 276\nL 754 276\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 333\nL 754 333\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 391\nL 754 391\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 448\nL 754 448\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 506\nL 754 506\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 67 564\nL 754 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 67 569\nL 67 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 204 569\nL 204 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 341 569\nL 341 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 479 569\nL 479 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 616 569\nL 616 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 754 569\nL 754 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><text x=\"122\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Jan</text><text x=\"259\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Feb</text><text x=\"396\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Mar</text><text x=\"535\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Apr</text><text x=\"670\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">May</text><path  d=\"M 106 268\nL 106 342\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 106 416\nL 106 490\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 93 268\nL 119 268\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 93 490\nL 119 490\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 79 342\nL 133 342\nL 133 416\nL 79 416\nL 79 342\" style=\"stroke:none;fill:rgb(34,197,94)\"/><path  d=\"M 243 194\nL 243 239\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 243 342\nL 243 416\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 230 194\nL 256 194\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 230 416\nL 256 416\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 216 239\nL 270 239\nL 270 342\nL 216 342\nL 216 239\" style=\"stroke:none;fill:rgb(34,197,94)\"/><path  d=\"M 380 150\nL 380 194\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 380 239\nL 380 298\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 367 150\nL 393 150\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 367 298\nL 393 298\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 353 194\nL 407 194\nL 407 239\nL 353 239\nL 353 194\" style=\"stroke:none;fill:rgb(34,197,94)\"/><path  d=\"M 518 120\nL 518 194\" style=\"stroke-width:1;stroke:rgb(239,68,68);fill:none\"/><path  d=\"M 518 298\nL 518 342\" style=\"stroke-width:1;stroke:rgb(239,68,68);fill:none\"/><path  d=\"M 505 120\nL 531 120\" style=\"stroke-width:1;stroke:rgb(239,68,68);fill:none\"/><path  d=\"M 505 342\nL 531 342\" style=\"stroke-width:1;stroke:rgb(239,68,68);fill:none\"/><path  d=\"M 491 194\nL 545 194\nL 545 298\nL 491 298\nL 491 194\" style=\"stroke:none;fill:rgb(239,68,68)\"/><path  d=\"M 655 224\nL 655 283\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 655 298\nL 655 342\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 642 224\nL 668 224\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 642 342\nL 668 342\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 628 283\nL 682 283\nL 682 298\nL 628 298\nL 628 283\" style=\"stroke:none;fill:rgb(34,197,94)\"/><path  d=\"M 165 318\nL 165 400\" style=\"stroke-width:1;stroke:rgb(64,160,110);fill:none\"/><path  d=\"M 165 482\nL 165 564\" style=\"stroke-width:1;stroke:rgb(64,160,110);fill:none\"/><path  d=\"M 152 318\nL 178 318\" style=\"stroke-width:1;stroke:rgb(64,160,110);fill:none\"/><path  d=\"M 152 564\nL 178 564\" style=\"stroke-width:1;stroke:rgb(64,160,110);fill:none\"/><path  d=\"M 138 400\nL 192 400\nL 192 482\nL 138 482\nL 138 400\" style=\"stroke:none;fill:rgb(64,160,110)\"/><path  d=\"M 302 236\nL 302 277\" style=\"stroke-width:1;stroke:rgb(64,160,110);fill:none\"/><path  d=\"M 302 400\nL 302 482\" style=\"stroke-width:1;stroke:rgb(64,160,110);fill:none\"/><path  d=\"M 289 236\nL 315 236\" style=\"stroke-width:1;stroke:rgb(64,160,110);fill:none\"/><path  d=\"M 289 482\nL 315 482\" style=\"stroke-width:1;stroke:rgb(64,160,110);fill:none\"/><path  d=\"M 275 277\nL 329 277\nL 329 400\nL 275 400\nL 275 277\" style=\"stroke:none;fill:rgb(64,160,110)\"/><path  d=\"M 439 153\nL 439 236\" style=\"stroke-width:1;stroke:rgb(64,160,110);fill:none\"/><path  d=\"M 439 277\nL 439 359\" style=\"stroke-width:1;stroke:rgb(64,160,110);fill:none\"/><path  d=\"M 426 153\nL 452 153\" style=\"stroke-width:1;stroke:rgb(64,160,110);fill:none\"/><path  d=\"M 426 359\nL 452 359\" style=\"stroke-width:1;stroke:rgb(64,160,110);fill:none\"/><path  d=\"M 412 236\nL 466 236\nL 466 277\nL 412 277\nL 412 236\" style=\"stroke:none;fill:rgb(64,160,110)\"/><path  d=\"M 577 112\nL 577 236\" style=\"stroke-width:1;stroke:rgb(250,128,80);fill:none\"/><path  d=\"M 577 359\nL 577 400\" style=\"stroke-width:1;stroke:rgb(250,128,80);fill:none\"/><path  d=\"M 564 112\nL 590 112\" style=\"stroke-width:1;stroke:rgb(250,128,80);fill:none\"/><path  d=\"M 564 400\nL 590 400\" style=\"stroke-width:1;stroke:rgb(250,128,80);fill:none\"/><path  d=\"M 550 236\nL 604 236\nL 604 359\nL 550 359\nL 550 236\" style=\"stroke:none;fill:rgb(250,128,80)\"/><path  d=\"M 714 277\nL 714 318\" style=\"stroke-width:1;stroke:rgb(64,160,110);fill:none\"/><path  d=\"M 714 359\nL 714 441\" style=\"stroke-width:1;stroke:rgb(64,160,110);fill:none\"/><path  d=\"M 701 277\nL 727 277\" style=\"stroke-width:1;stroke:rgb(64,160,110);fill:none\"/><path  d=\"M 701 441\nL 727 441\" style=\"stroke-width:1;stroke:rgb(64,160,110);fill:none\"/><path  d=\"M 687 318\nL 741 318\nL 741 359\nL 687 359\nL 687 318\" style=\"stroke:none;fill:rgb(64,160,110)\"/></svg>",
			pngCRC: 0x41f422db,
		},
		{
			name: "trend_lines",
			makeOptions: func() CandlestickChartOption {
				opt := makeBasicCandlestickChartOption()
				opt.SeriesList[0].OpenTrendLine = []SeriesTrendLine{
					{Type: SeriesTrendTypeSMA, Period: 2, LineColor: ColorRed},
				}
				opt.SeriesList[0].HighTrendLine = []SeriesTrendLine{
					{Type: SeriesTrendTypeEMA, Period: 4, LineColor: ColorRedAlt1},
				}
				opt.SeriesList[0].LowTrendLine = []SeriesTrendLine{
					{Type: SeriesTrendTypeEMA, Period: 4, LineColor: ColorBlue},
				}
				opt.SeriesList[0].CloseTrendLine = []SeriesTrendLine{
					{Type: SeriesTrendTypeSMA, Period: 2, LineColor: ColorGreen},
				}
				return opt
			},
			svg:    "<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 800 600\"><path  d=\"M 0 0\nL 800 0\nL 800 600\nL 0 600\nL 0 0\" style=\"stroke:none;fill:white\"/><path  d=\"M 367 26\nL 382 26\nL 374 13\nL 367 26\" style=\"stroke:none;fill:rgb(34,197,94)\"/><path  d=\"M 382 13\nL 397 13\nL 389 26\nL 382 13\" style=\"stroke:none;fill:rgb(239,68,68)\"/><text x=\"399\" y=\"25\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Price</text><text x=\"10\" y=\"26\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Candlestick Chart</text><text x=\"30\" y=\"52\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">125</text><text x=\"9\" y=\"109\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">121.11</text><text x=\"9\" y=\"166\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">117.22</text><text x=\"9\" y=\"224\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">113.33</text><text x=\"9\" y=\"281\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">109.44</text><text x=\"9\" y=\"338\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">105.56</text><text x=\"9\" y=\"396\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">101.67</text><text x=\"17\" y=\"453\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">97.78</text><text x=\"17\" y=\"510\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">93.89</text><text x=\"39\" y=\"568\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">90</text><path  d=\"M 63 46\nL 790 46\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 103\nL 790 103\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 161\nL 790 161\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 218\nL 790 218\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 276\nL 790 276\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 333\nL 790 333\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 391\nL 790 391\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 448\nL 790 448\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 506\nL 790 506\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 67 564\nL 790 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 67 569\nL 67 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 211 569\nL 211 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 356 569\nL 356 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 500 569\nL 500 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 645 569\nL 645 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 790 569\nL 790 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><text x=\"126\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Jan</text><text x=\"270\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Feb</text><text x=\"414\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Mar</text><text x=\"560\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Apr</text><text x=\"702\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">May</text><path  d=\"M 139 268\nL 139 342\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 139 416\nL 139 490\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 111 268\nL 167 268\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 111 490\nL 167 490\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 82 342\nL 196 342\nL 196 416\nL 82 416\nL 82 342\" style=\"stroke:none;fill:rgb(34,197,94)\"/><path  d=\"M 283 194\nL 283 239\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 283 342\nL 283 416\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 255 194\nL 311 194\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 255 416\nL 311 416\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 226 239\nL 340 239\nL 340 342\nL 226 342\nL 226 239\" style=\"stroke:none;fill:rgb(34,197,94)\"/><path  d=\"M 428 150\nL 428 194\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 428 239\nL 428 298\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 400 150\nL 456 150\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 400 298\nL 456 298\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 371 194\nL 485 194\nL 485 239\nL 371 239\nL 371 194\" style=\"stroke:none;fill:rgb(34,197,94)\"/><path  d=\"M 572 120\nL 572 194\" style=\"stroke-width:1;stroke:rgb(239,68,68);fill:none\"/><path  d=\"M 572 298\nL 572 342\" style=\"stroke-width:1;stroke:rgb(239,68,68);fill:none\"/><path  d=\"M 544 120\nL 600 120\" style=\"stroke-width:1;stroke:rgb(239,68,68);fill:none\"/><path  d=\"M 544 342\nL 600 342\" style=\"stroke-width:1;stroke:rgb(239,68,68);fill:none\"/><path  d=\"M 515 194\nL 629 194\nL 629 298\nL 515 298\nL 515 194\" style=\"stroke:none;fill:rgb(239,68,68)\"/><path  d=\"M 717 224\nL 717 283\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 717 298\nL 717 342\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 689 224\nL 745 224\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 689 342\nL 745 342\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 660 283\nL 774 283\nL 774 298\nL 660 298\nL 660 283\" style=\"stroke:none;fill:rgb(34,197,94)\"/><path  d=\"M 139 379\nL 283 333\nL 428 259\nL 572 244\nL 717 246\" style=\"stroke-width:2;stroke:red;fill:none\"/><path  d=\"M 139 268\nL 283 239\nL 428 203\nL 572 170\nL 717 192\" style=\"stroke-width:2;stroke:rgb(217,0,116);fill:none\"/><path  d=\"M 139 490\nL 283 461\nL 428 396\nL 572 374\nL 717 362\" style=\"stroke-width:2;stroke:blue;fill:none\"/><path  d=\"M 139 291\nL 283 259\nL 428 244\nL 572 259\nL 717 291\" style=\"stroke-width:2;stroke:green;fill:none\"/></svg>",
			pngCRC: 0xedcd792d,
		},
		{
			name: "mark_lines",
			makeOptions: func() CandlestickChartOption {
				series := CandlestickSeries{
					Data: makeBasicCandlestickData(),
					OpenMarkLine: SeriesMarkLine{
						Lines: []SeriesMark{
							{Type: SeriesMarkTypeMax}, // Open resistance
						},
					},
					HighMarkLine: SeriesMarkLine{
						Lines: []SeriesMark{
							{Type: SeriesMarkTypeMax}, // Absolute high
						},
					},
					LowMarkLine: SeriesMarkLine{
						Lines: []SeriesMark{
							{Type: SeriesMarkTypeMin}, // Absolute low
						},
					},
					CloseMarkLine: SeriesMarkLine{
						Lines: []SeriesMark{
							{Type: SeriesMarkTypeAverage}, // Close average
						},
					},
				}
				return CandlestickChartOption{
					Padding: NewBoxEqual(10),
					XAxis: XAxisOption{
						Labels: []string{"Jan", "Feb", "Mar", "Apr", "May"},
					},
					YAxis:      make([]YAxisOption, 1),
					SeriesList: CandlestickSeriesList{series},
				}
			},
			svg:    "<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 800 600\"><path  d=\"M 0 0\nL 800 0\nL 800 600\nL 0 600\nL 0 0\" style=\"stroke:none;fill:white\"/><text x=\"30\" y=\"16\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">125</text><text x=\"9\" y=\"77\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">121.11</text><text x=\"9\" y=\"138\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">117.22</text><text x=\"9\" y=\"200\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">113.33</text><text x=\"9\" y=\"261\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">109.44</text><text x=\"9\" y=\"322\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">105.56</text><text x=\"9\" y=\"384\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">101.67</text><text x=\"17\" y=\"445\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">97.78</text><text x=\"17\" y=\"506\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">93.89</text><text x=\"39\" y=\"568\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">90</text><path  d=\"M 63 10\nL 790 10\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 71\nL 790 71\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 133\nL 790 133\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 194\nL 790 194\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 256\nL 790 256\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 317\nL 790 317\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 379\nL 790 379\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 440\nL 790 440\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 502\nL 790 502\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 67 564\nL 790 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 67 569\nL 67 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 211 569\nL 211 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 356 569\nL 356 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 500 569\nL 500 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 645 569\nL 645 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 790 569\nL 790 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><text x=\"126\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Jan</text><text x=\"270\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Feb</text><text x=\"414\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Mar</text><text x=\"560\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Apr</text><text x=\"702\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">May</text><path  d=\"M 139 248\nL 139 327\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 139 406\nL 139 485\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 111 248\nL 167 248\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 111 485\nL 167 485\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 82 327\nL 196 327\nL 196 406\nL 82 406\nL 82 327\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 283 169\nL 283 216\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 283 327\nL 283 406\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 255 169\nL 311 169\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 255 406\nL 311 406\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 226 216\nL 340 216\nL 340 327\nL 226 327\nL 226 216\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 428 121\nL 428 169\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 428 216\nL 428 280\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 400 121\nL 456 121\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 400 280\nL 456 280\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 371 169\nL 485 169\nL 485 216\nL 371 216\nL 371 169\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 572 90\nL 572 169\" style=\"stroke-width:1;stroke:rgb(238,102,102);fill:none\"/><path  d=\"M 572 280\nL 572 327\" style=\"stroke-width:1;stroke:rgb(238,102,102);fill:none\"/><path  d=\"M 544 90\nL 600 90\" style=\"stroke-width:1;stroke:rgb(238,102,102);fill:none\"/><path  d=\"M 544 327\nL 600 327\" style=\"stroke-width:1;stroke:rgb(238,102,102);fill:none\"/><path  d=\"M 515 169\nL 629 169\nL 629 280\nL 515 280\nL 515 169\" style=\"stroke:none;fill:rgb(238,102,102)\"/><path  d=\"M 717 200\nL 717 264\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 717 280\nL 717 327\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 689 200\nL 745 200\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 689 327\nL 745 327\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 660 264\nL 774 264\nL 774 280\nL 660 280\nL 660 264\" style=\"stroke:none;fill:rgb(145,204,117)\"/><circle cx=\"70\" cy=\"169\" r=\"3\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:rgb(84,112,198)\"/><path stroke-dasharray=\"4.0, 2.0\" d=\"M 76 169\nL 772 169\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:rgb(84,112,198)\"/><path stroke-dasharray=\"4.0, 2.0\" d=\"M 772 164\nL 788 169\nL 772 174\nL 777 169\nL 772 164\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:rgb(84,112,198)\"/><text x=\"790\" y=\"173\" style=\"stroke:none;fill:rgb(70,70,70);font-size:12.8px;font-family:'Roboto Medium',sans-serif\">115</text><circle cx=\"70\" cy=\"90\" r=\"3\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:rgb(84,112,198)\"/><path stroke-dasharray=\"4.0, 2.0\" d=\"M 76 90\nL 772 90\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:rgb(84,112,198)\"/><path stroke-dasharray=\"4.0, 2.0\" d=\"M 772 85\nL 788 90\nL 772 95\nL 777 90\nL 772 85\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:rgb(84,112,198)\"/><text x=\"790\" y=\"94\" style=\"stroke:none;fill:rgb(70,70,70);font-size:12.8px;font-family:'Roboto Medium',sans-serif\">120</text><circle cx=\"70\" cy=\"485\" r=\"3\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:rgb(84,112,198)\"/><path stroke-dasharray=\"4.0, 2.0\" d=\"M 76 485\nL 772 485\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:rgb(84,112,198)\"/><path stroke-dasharray=\"4.0, 2.0\" d=\"M 772 480\nL 788 485\nL 772 490\nL 777 485\nL 772 480\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:rgb(84,112,198)\"/><text x=\"790\" y=\"489\" style=\"stroke:none;fill:rgb(70,70,70);font-size:12.8px;font-family:'Roboto Medium',sans-serif\">95</text><circle cx=\"70\" cy=\"251\" r=\"3\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:rgb(84,112,198)\"/><path stroke-dasharray=\"4.0, 2.0\" d=\"M 76 251\nL 772 251\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:rgb(84,112,198)\"/><path stroke-dasharray=\"4.0, 2.0\" d=\"M 772 246\nL 788 251\nL 772 256\nL 777 251\nL 772 246\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:rgb(84,112,198)\"/><text x=\"790\" y=\"255\" style=\"stroke:none;fill:rgb(70,70,70);font-size:12.8px;font-family:'Roboto Medium',sans-serif\">109.8</text></svg>",
			pngCRC: 0xb8a1bee9,
		},
		{
			name: "mark_point",
			makeOptions: func() CandlestickChartOption {
				series := CandlestickSeries{
					Data: makeBasicCandlestickData(),
					OpenMarkPoint: SeriesMarkPoint{
						Points: []SeriesMark{
							{Type: SeriesMarkTypeMax}, // Highest open
						},
					},
					HighMarkPoint: SeriesMarkPoint{
						Points: []SeriesMark{
							{Type: SeriesMarkTypeMax}, // Absolute maximum
						},
					},
					LowMarkPoint: SeriesMarkPoint{
						Points: []SeriesMark{
							{Type: SeriesMarkTypeMin}, // Absolute minimum
						},
					},
					CloseMarkPoint: SeriesMarkPoint{
						Points: []SeriesMark{
							{Type: SeriesMarkTypeMin}, // Lowest close
						},
					},
				}
				return CandlestickChartOption{
					Padding: NewBoxEqual(10),
					XAxis: XAxisOption{
						Labels: []string{"Jan", "Feb", "Mar", "Apr", "May"},
					},
					YAxis:      make([]YAxisOption, 1),
					SeriesList: CandlestickSeriesList{series},
				}
			},
			svg:    "<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 800 600\"><path  d=\"M 0 0\nL 800 0\nL 800 600\nL 0 600\nL 0 0\" style=\"stroke:none;fill:white\"/><text x=\"9\" y=\"16\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">126</text><text x=\"9\" y=\"77\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">122</text><text x=\"9\" y=\"138\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">118</text><text x=\"9\" y=\"200\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">114</text><text x=\"9\" y=\"261\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">110</text><text x=\"9\" y=\"322\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">106</text><text x=\"9\" y=\"384\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">102</text><text x=\"18\" y=\"445\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">98</text><text x=\"18\" y=\"506\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">94</text><text x=\"18\" y=\"568\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">90</text><path  d=\"M 42 10\nL 790 10\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 42 71\nL 790 71\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 42 133\nL 790 133\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 42 194\nL 790 194\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 42 256\nL 790 256\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 42 317\nL 790 317\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 42 379\nL 790 379\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 42 440\nL 790 440\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 42 502\nL 790 502\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 46 564\nL 790 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 46 569\nL 46 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 194 569\nL 194 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 343 569\nL 343 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 492 569\nL 492 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 641 569\nL 641 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 790 569\nL 790 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><text x=\"107\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Jan</text><text x=\"255\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Feb</text><text x=\"403\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Mar</text><text x=\"554\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Apr</text><text x=\"700\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">May</text><path  d=\"M 120 257\nL 120 334\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 120 411\nL 120 488\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 91 257\nL 149 257\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 91 488\nL 149 488\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 61 334\nL 179 334\nL 179 411\nL 61 411\nL 61 334\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 268 180\nL 268 226\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 268 334\nL 268 411\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 239 180\nL 297 180\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 239 411\nL 297 411\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 209 226\nL 327 226\nL 327 334\nL 209 334\nL 209 226\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 417 134\nL 417 180\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 417 226\nL 417 287\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 388 134\nL 446 134\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 388 287\nL 446 287\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 358 180\nL 476 180\nL 476 226\nL 358 226\nL 358 180\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 566 103\nL 566 180\" style=\"stroke-width:1;stroke:rgb(238,102,102);fill:none\"/><path  d=\"M 566 287\nL 566 334\" style=\"stroke-width:1;stroke:rgb(238,102,102);fill:none\"/><path  d=\"M 537 103\nL 595 103\" style=\"stroke-width:1;stroke:rgb(238,102,102);fill:none\"/><path  d=\"M 537 334\nL 595 334\" style=\"stroke-width:1;stroke:rgb(238,102,102);fill:none\"/><path  d=\"M 507 180\nL 625 180\nL 625 287\nL 507 287\nL 507 180\" style=\"stroke:none;fill:rgb(238,102,102)\"/><path  d=\"M 715 211\nL 715 272\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 715 287\nL 715 334\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 686 211\nL 744 211\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 686 334\nL 744 334\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 656 272\nL 774 272\nL 774 287\nL 656 287\nL 656 272\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 562 173\nA 14 14 330.00 1 1 570 173\nL 566 159\nZ\" style=\"stroke:none;fill:rgb(84,112,198)\"/><path  d=\"M 552 159\nQ566,194 580,159\nZ\" style=\"stroke:none;fill:rgb(84,112,198)\"/><text x=\"555\" y=\"164\" style=\"stroke:none;fill:rgb(238,238,238);font-size:12.8px;font-family:'Roboto Medium',sans-serif\">115</text><path  d=\"M 562 96\nA 14 14 330.00 1 1 570 96\nL 566 82\nZ\" style=\"stroke:none;fill:rgb(84,112,198)\"/><path  d=\"M 552 82\nQ566,117 580,82\nZ\" style=\"stroke:none;fill:rgb(84,112,198)\"/><text x=\"555\" y=\"87\" style=\"stroke:none;fill:rgb(238,238,238);font-size:12.8px;font-family:'Roboto Medium',sans-serif\">120</text><path  d=\"M 116 481\nA 14 14 330.00 1 1 124 481\nL 120 467\nZ\" style=\"stroke:none;fill:rgb(84,112,198)\"/><path  d=\"M 106 467\nQ120,502 134,467\nZ\" style=\"stroke:none;fill:rgb(84,112,198)\"/><text x=\"113\" y=\"472\" style=\"stroke:none;fill:rgb(238,238,238);font-size:12.8px;font-family:'Roboto Medium',sans-serif\">95</text><path  d=\"M 116 327\nA 14 14 330.00 1 1 124 327\nL 120 313\nZ\" style=\"stroke:none;fill:rgb(84,112,198)\"/><path  d=\"M 106 313\nQ120,348 134,313\nZ\" style=\"stroke:none;fill:rgb(84,112,198)\"/><text x=\"109\" y=\"318\" style=\"stroke:none;fill:rgb(238,238,238);font-size:12.8px;font-family:'Roboto Medium',sans-serif\">105</text></svg>",
			pngCRC: 0x353c4e5f,
		},
		{
			name: "patterns_replace_mode",
			makeOptions: func() CandlestickChartOption {
				series := CandlestickSeries{
					Data: []OHLCData{
						{Open: 100, High: 110, Low: 95, Close: 100.01}, // Doji: 0.01/15 = 0.0007 < 0.001
						{Open: 105, High: 115, Low: 100, Close: 112},   // Normal
					},
					Label: SeriesLabel{
						Show: Ptr(true),
						LabelFormatter: func(index int, name string, val float64) (string, *LabelStyle) {
							return "User Label", nil
						},
					},
					PatternConfig: (&CandlestickPatternConfig{}).
						WithPreferPatternLabels(true).
						WithDoji().
						WithDojiThreshold(0.001).
						WithShadowTolerance(0.01).
						WithShadowRatio(2.0).
						WithEngulfingMinSize(0.8),
				}
				return CandlestickChartOption{
					Padding: NewBoxEqual(10),
					XAxis: XAxisOption{
						Labels: []string{"A", "B"},
					},
					YAxis:      make([]YAxisOption, 1),
					SeriesList: CandlestickSeriesList{series},
				}
			},
			svg:    "<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 800 600\"><path  d=\"M 0 0\nL 800 0\nL 800 600\nL 0 600\nL 0 0\" style=\"stroke:none;fill:white\"/><text x=\"30\" y=\"16\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">116</text><text x=\"9\" y=\"77\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">113.67</text><text x=\"9\" y=\"138\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">111.33</text><text x=\"30\" y=\"200\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">109</text><text x=\"9\" y=\"261\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">106.67</text><text x=\"9\" y=\"322\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">104.33</text><text x=\"30\" y=\"384\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">102</text><text x=\"17\" y=\"445\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">99.67</text><text x=\"17\" y=\"506\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">97.33</text><text x=\"39\" y=\"568\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">95</text><path  d=\"M 63 10\nL 790 10\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 71\nL 790 71\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 133\nL 790 133\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 194\nL 790 194\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 256\nL 790 256\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 317\nL 790 317\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 379\nL 790 379\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 440\nL 790 440\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 502\nL 790 502\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 67 564\nL 790 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 67 569\nL 67 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 428 569\nL 428 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 790 569\nL 790 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><text x=\"242\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">A</text><text x=\"604\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">B</text><path  d=\"M 247 169\nL 247 432\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 247 433\nL 247 564\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 175 169\nL 319 169\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 175 564\nL 319 564\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 103 432\nL 391 432\nL 391 433\nL 103 433\nL 103 432\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 609 37\nL 609 116\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 609 301\nL 609 433\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 537 37\nL 681 37\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 537 433\nL 681 433\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 465 116\nL 753 116\nL 753 301\nL 465 301\nL 465 116\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 252 419\nL 285 419\nL 285 419\nA 4 4 90.00 0 1 289 423\nL 289 436\nL 289 436\nA 4 4 90.00 0 1 285 440\nL 252 440\nL 252 440\nA 4 4 90.00 0 1 248 436\nL 248 423\nL 248 423\nA 4 4 90.00 0 1 252 419\nZ\" style=\"stroke-width:1.2;stroke:rgb(200,200,200);fill:rgba(255,255,255,0.7)\"/><text x=\"252\" y=\"436\" style=\"stroke:none;fill:rgb(128,128,128);font-size:12.8px;font-family:'Roboto Medium',sans-serif\">± Doji</text><text x=\"614\" y=\"120\" style=\"stroke:none;fill:rgb(70,70,70);font-size:12.8px;font-family:'Roboto Medium',sans-serif\">User Label</text></svg>",
			pngCRC: 0x59732796,
		},
		{
			name: "large_dataset",
			makeOptions: func() CandlestickChartOption {
				var data []OHLCData
				for i := 0; i < 50; i++ {
					basePrice := 100.0 + float64(i)*0.5
					data = append(data, OHLCData{
						Open:  basePrice,
						High:  basePrice + 5,
						Low:   basePrice - 3,
						Close: basePrice + 2,
					})
				}
				return CandlestickChartOption{
					Padding: NewBoxEqual(10),
					XAxis: XAxisOption{
						Show: Ptr(false), // Hide labels for large dataset
					},
					YAxis:      make([]YAxisOption, 1),
					SeriesList: CandlestickSeriesList{{Data: data}},
				}
			},
			svg:    "<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 800 600\"><path  d=\"M 0 0\nL 800 0\nL 800 600\nL 0 600\nL 0 0\" style=\"stroke:none;fill:white\"/><text x=\"9\" y=\"16\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">131.13</text><text x=\"9\" y=\"80\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">127.33</text><text x=\"9\" y=\"144\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">123.54</text><text x=\"9\" y=\"208\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">119.75</text><text x=\"9\" y=\"272\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">115.96</text><text x=\"9\" y=\"337\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">112.17</text><text x=\"9\" y=\"401\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">108.38</text><text x=\"9\" y=\"465\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">104.58</text><text x=\"9\" y=\"529\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">100.79</text><text x=\"39\" y=\"594\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">97</text><path  d=\"M 63 10\nL 790 10\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 74\nL 790 74\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 138\nL 790 138\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 203\nL 790 203\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 267\nL 790 267\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 332\nL 790 332\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 396\nL 790 396\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 461\nL 790 461\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 525\nL 790 525\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 74 455\nL 74 506\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 74 540\nL 74 590\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 72 455\nL 76 455\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 72 590\nL 76 590\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 69 506\nL 79 506\nL 79 540\nL 69 540\nL 69 506\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 88 446\nL 88 497\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 88 531\nL 88 582\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 86 446\nL 90 446\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 86 582\nL 90 582\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 83 497\nL 93 497\nL 93 531\nL 83 531\nL 83 497\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 102 438\nL 102 489\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 102 523\nL 102 574\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 100 438\nL 104 438\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 100 574\nL 104 574\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 97 489\nL 107 489\nL 107 523\nL 97 523\nL 97 489\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 117 429\nL 117 480\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 117 514\nL 117 565\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 115 429\nL 119 429\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 115 565\nL 119 565\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 112 480\nL 122 480\nL 122 514\nL 112 514\nL 112 480\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 131 421\nL 131 472\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 131 506\nL 131 557\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 129 421\nL 133 421\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 129 557\nL 133 557\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 126 472\nL 136 472\nL 136 506\nL 126 506\nL 126 472\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 146 412\nL 146 463\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 146 497\nL 146 548\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 144 412\nL 148 412\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 144 548\nL 148 548\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 141 463\nL 151 463\nL 151 497\nL 141 497\nL 141 463\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 160 404\nL 160 455\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 160 489\nL 160 540\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 158 404\nL 162 404\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 158 540\nL 162 540\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 155 455\nL 165 455\nL 165 489\nL 155 489\nL 155 455\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 175 395\nL 175 446\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 175 480\nL 175 531\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 173 395\nL 177 395\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 173 531\nL 177 531\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 170 446\nL 180 446\nL 180 480\nL 170 480\nL 170 446\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 189 387\nL 189 438\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 189 472\nL 189 523\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 187 387\nL 191 387\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 187 523\nL 191 523\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 184 438\nL 194 438\nL 194 472\nL 184 472\nL 184 438\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 204 378\nL 204 429\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 204 463\nL 204 514\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 202 378\nL 206 378\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 202 514\nL 206 514\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 199 429\nL 209 429\nL 209 463\nL 199 463\nL 199 429\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 218 370\nL 218 421\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 218 455\nL 218 506\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 216 370\nL 220 370\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 216 506\nL 220 506\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 213 421\nL 223 421\nL 223 455\nL 213 455\nL 213 421\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 233 361\nL 233 412\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 233 446\nL 233 497\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 231 361\nL 235 361\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 231 497\nL 235 497\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 228 412\nL 238 412\nL 238 446\nL 228 446\nL 228 412\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 247 353\nL 247 404\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 247 438\nL 247 489\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 245 353\nL 249 353\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 245 489\nL 249 489\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 242 404\nL 252 404\nL 252 438\nL 242 438\nL 242 404\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 261 344\nL 261 395\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 261 429\nL 261 480\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 259 344\nL 263 344\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 259 480\nL 263 480\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 256 395\nL 266 395\nL 266 429\nL 256 429\nL 256 395\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 276 336\nL 276 387\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 276 421\nL 276 472\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 274 336\nL 278 336\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 274 472\nL 278 472\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 271 387\nL 281 387\nL 281 421\nL 271 421\nL 271 387\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 290 327\nL 290 378\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 290 412\nL 290 463\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 288 327\nL 292 327\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 288 463\nL 292 463\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 285 378\nL 295 378\nL 295 412\nL 285 412\nL 285 378\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 305 319\nL 305 370\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 305 404\nL 305 455\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 303 319\nL 307 319\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 303 455\nL 307 455\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 300 370\nL 310 370\nL 310 404\nL 300 404\nL 300 370\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 319 310\nL 319 361\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 319 395\nL 319 446\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 317 310\nL 321 310\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 317 446\nL 321 446\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 314 361\nL 324 361\nL 324 395\nL 314 395\nL 314 361\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 334 302\nL 334 353\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 334 387\nL 334 438\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 332 302\nL 336 302\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 332 438\nL 336 438\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 329 353\nL 339 353\nL 339 387\nL 329 387\nL 329 353\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 348 293\nL 348 344\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 348 378\nL 348 429\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 346 293\nL 350 293\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 346 429\nL 350 429\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 343 344\nL 353 344\nL 353 378\nL 343 378\nL 343 344\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 363 285\nL 363 336\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 363 370\nL 363 421\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 361 285\nL 365 285\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 361 421\nL 365 421\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 358 336\nL 368 336\nL 368 370\nL 358 370\nL 358 336\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 377 276\nL 377 327\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 377 361\nL 377 412\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 375 276\nL 379 276\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 375 412\nL 379 412\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 372 327\nL 382 327\nL 382 361\nL 372 361\nL 372 327\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 392 268\nL 392 319\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 392 353\nL 392 404\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 390 268\nL 394 268\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 390 404\nL 394 404\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 387 319\nL 397 319\nL 397 353\nL 387 353\nL 387 319\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 406 259\nL 406 310\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 406 344\nL 406 395\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 404 259\nL 408 259\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 404 395\nL 408 395\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 401 310\nL 411 310\nL 411 344\nL 401 344\nL 401 310\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 421 251\nL 421 302\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 421 336\nL 421 387\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 419 251\nL 423 251\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 419 387\nL 423 387\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 416 302\nL 426 302\nL 426 336\nL 416 336\nL 416 302\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 435 242\nL 435 293\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 435 327\nL 435 378\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 433 242\nL 437 242\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 433 378\nL 437 378\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 430 293\nL 440 293\nL 440 327\nL 430 327\nL 430 293\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 449 234\nL 449 285\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 449 319\nL 449 370\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 447 234\nL 451 234\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 447 370\nL 451 370\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 444 285\nL 454 285\nL 454 319\nL 444 319\nL 444 285\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 464 225\nL 464 276\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 464 310\nL 464 361\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 462 225\nL 466 225\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 462 361\nL 466 361\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 459 276\nL 469 276\nL 469 310\nL 459 310\nL 459 276\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 478 217\nL 478 268\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 478 302\nL 478 353\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 476 217\nL 480 217\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 476 353\nL 480 353\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 473 268\nL 483 268\nL 483 302\nL 473 302\nL 473 268\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 493 208\nL 493 259\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 493 293\nL 493 344\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 491 208\nL 495 208\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 491 344\nL 495 344\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 488 259\nL 498 259\nL 498 293\nL 488 293\nL 488 259\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 507 200\nL 507 251\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 507 285\nL 507 336\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 505 200\nL 509 200\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 505 336\nL 509 336\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 502 251\nL 512 251\nL 512 285\nL 502 285\nL 502 251\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 522 191\nL 522 242\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 522 276\nL 522 327\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 520 191\nL 524 191\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 520 327\nL 524 327\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 517 242\nL 527 242\nL 527 276\nL 517 276\nL 517 242\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 536 183\nL 536 234\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 536 268\nL 536 319\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 534 183\nL 538 183\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 534 319\nL 538 319\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 531 234\nL 541 234\nL 541 268\nL 531 268\nL 531 234\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 551 174\nL 551 225\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 551 259\nL 551 310\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 549 174\nL 553 174\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 549 310\nL 553 310\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 546 225\nL 556 225\nL 556 259\nL 546 259\nL 546 225\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 565 166\nL 565 217\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 565 251\nL 565 302\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 563 166\nL 567 166\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 563 302\nL 567 302\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 560 217\nL 570 217\nL 570 251\nL 560 251\nL 560 217\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 580 157\nL 580 208\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 580 242\nL 580 293\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 578 157\nL 582 157\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 578 293\nL 582 293\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 575 208\nL 585 208\nL 585 242\nL 575 242\nL 575 208\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 594 149\nL 594 200\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 594 234\nL 594 285\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 592 149\nL 596 149\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 592 285\nL 596 285\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 589 200\nL 599 200\nL 599 234\nL 589 234\nL 589 200\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 609 140\nL 609 191\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 609 225\nL 609 276\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 607 140\nL 611 140\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 607 276\nL 611 276\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 604 191\nL 614 191\nL 614 225\nL 604 225\nL 604 191\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 623 132\nL 623 183\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 623 217\nL 623 268\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 621 132\nL 625 132\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 621 268\nL 625 268\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 618 183\nL 628 183\nL 628 217\nL 618 217\nL 618 183\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 637 123\nL 637 174\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 637 208\nL 637 259\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 635 123\nL 639 123\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 635 259\nL 639 259\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 632 174\nL 642 174\nL 642 208\nL 632 208\nL 632 174\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 652 115\nL 652 166\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 652 200\nL 652 251\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 650 115\nL 654 115\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 650 251\nL 654 251\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 647 166\nL 657 166\nL 657 200\nL 647 200\nL 647 166\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 666 106\nL 666 157\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 666 191\nL 666 242\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 664 106\nL 668 106\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 664 242\nL 668 242\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 661 157\nL 671 157\nL 671 191\nL 661 191\nL 661 157\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 681 98\nL 681 149\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 681 183\nL 681 234\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 679 98\nL 683 98\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 679 234\nL 683 234\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 676 149\nL 686 149\nL 686 183\nL 676 183\nL 676 149\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 695 89\nL 695 140\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 695 174\nL 695 225\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 693 89\nL 697 89\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 693 225\nL 697 225\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 690 140\nL 700 140\nL 700 174\nL 690 174\nL 690 140\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 710 81\nL 710 132\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 710 166\nL 710 217\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 708 81\nL 712 81\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 708 217\nL 712 217\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 705 132\nL 715 132\nL 715 166\nL 705 166\nL 705 132\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 724 72\nL 724 123\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 724 157\nL 724 208\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 722 72\nL 726 72\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 722 208\nL 726 208\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 719 123\nL 729 123\nL 729 157\nL 719 157\nL 719 123\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 739 64\nL 739 115\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 739 149\nL 739 200\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 737 64\nL 741 64\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 737 200\nL 741 200\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 734 115\nL 744 115\nL 744 149\nL 734 149\nL 734 115\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 753 55\nL 753 106\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 753 140\nL 753 191\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 751 55\nL 755 55\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 751 191\nL 755 191\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 748 106\nL 758 106\nL 758 140\nL 748 140\nL 748 106\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 768 47\nL 768 98\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 768 132\nL 768 183\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 766 47\nL 770 47\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 766 183\nL 770 183\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 763 98\nL 773 98\nL 773 132\nL 763 132\nL 763 98\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 782 38\nL 782 89\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 782 123\nL 782 174\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 780 38\nL 784 38\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 780 174\nL 784 174\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 777 89\nL 787 89\nL 787 123\nL 777 123\nL 777 89\" style=\"stroke:none;fill:rgb(145,204,117)\"/></svg>",
			pngCRC: 0x4e337725,
		},
		{
			name: "multiple_series",
			makeOptions: func() CandlestickChartOption {
				series1Data := []OHLCData{
					{Open: 100.0, High: 110.0, Low: 95.0, Close: 105.0},
					{Open: 105.0, High: 115.0, Low: 100.0, Close: 112.0},
					{Open: 112.0, High: 118.0, Low: 108.0, Close: 115.0},
					{Open: 115.0, High: 120.0, Low: 110.0, Close: 108.0},
					{Open: 108.0, High: 113.0, Low: 105.0, Close: 109.0},
				}
				series2Data := []OHLCData{
					{Open: 120.0, High: 130.0, Low: 115.0, Close: 125.0},
					{Open: 125.0, High: 135.0, Low: 120.0, Close: 132.0},
					{Open: 132.0, High: 138.0, Low: 128.0, Close: 135.0},
					{Open: 135.0, High: 140.0, Low: 130.0, Close: 128.0},
					{Open: 128.0, High: 133.0, Low: 125.0, Close: 129.0},
				}
				series3Data := []OHLCData{
					{Open: 80.0, High: 110.0, Low: 45.0, Close: 85.0},
					{Open: 85.0, High: 115.0, Low: 40.0, Close: 82.0},
					{Open: 82.0, High: 118.0, Low: 48.0, Close: 85.0},
					{Open: 85.0, High: 120.0, Low: 40.0, Close: 88.0},
					{Open: 88.0, High: 113.0, Low: 45.0, Close: 89.0},
				}
				return CandlestickChartOption{
					XAxis: XAxisOption{
						Labels: []string{"Day 1", "Day 2", "Day 3", "Day 4", "Day 5"},
					},
					YAxis: make([]YAxisOption, 1),
					SeriesList: CandlestickSeriesList{
						{Data: series1Data, Name: "Stock A"},
						{Data: series2Data, Name: "Stock B"},
						{Data: series3Data, Name: "Stock C"},
					},
					Legend: LegendOption{
						SeriesNames: []string{"Stock A", "Stock B", "Stock C"},
						Show:        Ptr(true),
					},
					Padding: NewBoxEqual(10),
				}
			},
			svg:    "<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 800 600\"><path  d=\"M 0 0\nL 800 0\nL 800 600\nL 0 600\nL 0 0\" style=\"stroke:none;fill:white\"/><path  d=\"M 253 26\nL 268 26\nL 260 13\nL 253 26\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 268 13\nL 283 13\nL 275 26\nL 268 13\" style=\"stroke:none;fill:rgb(238,102,102)\"/><text x=\"285\" y=\"25\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Stock A</text><path  d=\"M 359 26\nL 374 26\nL 366 13\nL 359 26\" style=\"stroke:none;fill:rgb(115,192,222)\"/><path  d=\"M 374 13\nL 389 13\nL 381 26\nL 374 13\" style=\"stroke:none;fill:rgb(252,132,82)\"/><text x=\"391\" y=\"25\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Stock B</text><path  d=\"M 464 26\nL 479 26\nL 471 13\nL 464 26\" style=\"stroke:none;fill:rgb(84,112,198)\"/><path  d=\"M 479 13\nL 494 13\nL 486 26\nL 479 13\" style=\"stroke:none;fill:rgb(234,124,204)\"/><text x=\"496\" y=\"25\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Stock C</text><text x=\"9\" y=\"52\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">148</text><text x=\"9\" y=\"109\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">136</text><text x=\"9\" y=\"166\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">124</text><text x=\"9\" y=\"224\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">112</text><text x=\"9\" y=\"281\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">100</text><text x=\"18\" y=\"338\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">88</text><text x=\"18\" y=\"396\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">76</text><text x=\"18\" y=\"453\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">64</text><text x=\"18\" y=\"510\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">52</text><text x=\"18\" y=\"568\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">40</text><path  d=\"M 42 46\nL 790 46\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 42 103\nL 790 103\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 42 161\nL 790 161\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 42 218\nL 790 218\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 42 276\nL 790 276\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 42 333\nL 790 333\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 42 391\nL 790 391\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 42 448\nL 790 448\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 42 506\nL 790 506\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 46 564\nL 790 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 46 569\nL 46 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 194 569\nL 194 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 343 569\nL 343 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 492 569\nL 492 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 641 569\nL 641 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 790 569\nL 790 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><text x=\"101\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Day 1</text><text x=\"249\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Day 2</text><text x=\"398\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Day 3</text><text x=\"547\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Day 4</text><text x=\"696\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Day 5</text><path  d=\"M 75 229\nL 75 253\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 75 277\nL 75 301\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 66 229\nL 84 229\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 66 301\nL 84 301\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 56 253\nL 94 253\nL 94 277\nL 56 277\nL 56 253\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 223 205\nL 223 219\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 223 253\nL 223 277\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 214 205\nL 232 205\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 214 277\nL 232 277\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 204 219\nL 242 219\nL 242 253\nL 204 253\nL 204 219\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 372 190\nL 372 205\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 372 219\nL 372 238\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 363 190\nL 381 190\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 363 238\nL 381 238\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 353 205\nL 391 205\nL 391 219\nL 353 219\nL 353 205\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 670 214\nL 670 234\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 670 238\nL 670 253\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 661 214\nL 679 214\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 661 253\nL 679 253\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 651 234\nL 689 234\nL 689 238\nL 651 238\nL 651 234\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 119 133\nL 119 157\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 119 181\nL 119 205\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 110 133\nL 128 133\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 110 205\nL 128 205\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 100 157\nL 138 157\nL 138 181\nL 100 181\nL 100 157\" style=\"stroke:none;fill:rgb(115,192,222)\"/><path  d=\"M 267 109\nL 267 123\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 267 157\nL 267 181\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 258 109\nL 276 109\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 258 181\nL 276 181\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 248 123\nL 286 123\nL 286 157\nL 248 157\nL 248 123\" style=\"stroke:none;fill:rgb(115,192,222)\"/><path  d=\"M 416 94\nL 416 109\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 416 123\nL 416 142\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 407 94\nL 425 94\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 407 142\nL 425 142\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 397 109\nL 435 109\nL 435 123\nL 397 123\nL 397 109\" style=\"stroke:none;fill:rgb(115,192,222)\"/><path  d=\"M 714 118\nL 714 138\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 714 142\nL 714 157\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 705 118\nL 723 118\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 705 157\nL 723 157\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 695 138\nL 733 138\nL 733 142\nL 695 142\nL 695 138\" style=\"stroke:none;fill:rgb(115,192,222)\"/><path  d=\"M 163 229\nL 163 349\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:none\"/><path  d=\"M 163 373\nL 163 541\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:none\"/><path  d=\"M 154 229\nL 172 229\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:none\"/><path  d=\"M 154 541\nL 172 541\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:none\"/><path  d=\"M 144 349\nL 182 349\nL 182 373\nL 144 373\nL 144 349\" style=\"stroke:none;fill:rgb(84,112,198)\"/><path  d=\"M 311 205\nL 311 349\" style=\"stroke-width:1;stroke:rgb(234,124,204);fill:none\"/><path  d=\"M 311 363\nL 311 564\" style=\"stroke-width:1;stroke:rgb(234,124,204);fill:none\"/><path  d=\"M 302 205\nL 320 205\" style=\"stroke-width:1;stroke:rgb(234,124,204);fill:none\"/><path  d=\"M 302 564\nL 320 564\" style=\"stroke-width:1;stroke:rgb(234,124,204);fill:none\"/><path  d=\"M 292 349\nL 330 349\nL 330 363\nL 292 363\nL 292 349\" style=\"stroke:none;fill:rgb(234,124,204)\"/><path  d=\"M 460 190\nL 460 349\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:none\"/><path  d=\"M 460 363\nL 460 526\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:none\"/><path  d=\"M 451 190\nL 469 190\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:none\"/><path  d=\"M 451 526\nL 469 526\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:none\"/><path  d=\"M 441 349\nL 479 349\nL 479 363\nL 441 363\nL 441 349\" style=\"stroke:none;fill:rgb(84,112,198)\"/><path  d=\"M 609 181\nL 609 334\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:none\"/><path  d=\"M 609 349\nL 609 564\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:none\"/><path  d=\"M 600 181\nL 618 181\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:none\"/><path  d=\"M 600 564\nL 618 564\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:none\"/><path  d=\"M 590 334\nL 628 334\nL 628 349\nL 590 349\nL 590 334\" style=\"stroke:none;fill:rgb(84,112,198)\"/><path  d=\"M 758 214\nL 758 329\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:none\"/><path  d=\"M 758 334\nL 758 541\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:none\"/><path  d=\"M 749 214\nL 767 214\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:none\"/><path  d=\"M 749 541\nL 767 541\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:none\"/><path  d=\"M 739 329\nL 777 329\nL 777 334\nL 739 334\nL 739 329\" style=\"stroke:none;fill:rgb(84,112,198)\"/></svg>",
			pngCRC: 0x911941bb,
		},
		{
			name: "bollinger_bands",
			makeOptions: func() CandlestickChartOption {
				// Create longer dataset for meaningful Bollinger Bands
				ohlcData := []OHLCData{
					{Open: 100, High: 110, Low: 95, Close: 105},
					{Open: 105, High: 115, Low: 100, Close: 112},
					{Open: 112, High: 118, Low: 108, Close: 115},
					{Open: 115, High: 120, Low: 110, Close: 118},
					{Open: 118, High: 125, Low: 115, Close: 122},
					{Open: 122, High: 128, Low: 119, Close: 125},
					{Open: 125, High: 130, Low: 122, Close: 127},
					{Open: 127, High: 132, Low: 124, Close: 129},
					{Open: 129, High: 135, Low: 126, Close: 131},
					{Open: 131, High: 138, Low: 128, Close: 135},
				}
				return CandlestickChartOption{
					XAxis: XAxisOption{
						Labels: []string{"1", "2", "3", "4", "5", "6", "7", "8", "9", "10"},
					},
					YAxis: make([]YAxisOption, 1),
					SeriesList: CandlestickSeriesList{{
						Data: ohlcData,
						CloseTrendLine: []SeriesTrendLine{
							{Type: SeriesTrendTypeBollingerUpper, Period: 5},
							{Type: SeriesTrendTypeSMA, Period: 5},
							{Type: SeriesTrendTypeBollingerLower, Period: 5},
						},
					}},
					Legend:  LegendOption{Show: Ptr(false)},
					Padding: NewBoxEqual(10),
				}
			},
			svg:    "<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 800 600\"><path  d=\"M 0 0\nL 800 0\nL 800 600\nL 0 600\nL 0 0\" style=\"stroke:none;fill:white\"/><text x=\"30\" y=\"16\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">143</text><text x=\"9\" y=\"77\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">137.11</text><text x=\"9\" y=\"138\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">131.22</text><text x=\"9\" y=\"200\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">125.33</text><text x=\"9\" y=\"261\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">119.44</text><text x=\"9\" y=\"322\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">113.56</text><text x=\"9\" y=\"384\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">107.67</text><text x=\"9\" y=\"445\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">101.78</text><text x=\"17\" y=\"506\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">95.89</text><text x=\"39\" y=\"568\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">90</text><path  d=\"M 63 10\nL 790 10\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 71\nL 790 71\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 133\nL 790 133\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 194\nL 790 194\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 256\nL 790 256\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 317\nL 790 317\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 379\nL 790 379\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 440\nL 790 440\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 502\nL 790 502\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 67 564\nL 790 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 67 569\nL 67 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 139 569\nL 139 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 211 569\nL 211 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 283 569\nL 283 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 356 569\nL 356 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 428 569\nL 428 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 500 569\nL 500 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 573 569\nL 573 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 645 569\nL 645 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 717 569\nL 717 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 790 569\nL 790 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><text x=\"99\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">1</text><text x=\"171\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">2</text><text x=\"243\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">3</text><text x=\"315\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">4</text><text x=\"388\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">5</text><text x=\"460\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">6</text><text x=\"532\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">7</text><text x=\"605\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">8</text><text x=\"677\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">9</text><text x=\"744\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">10</text><path  d=\"M 103 355\nL 103 408\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 103 460\nL 103 512\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 89 355\nL 117 355\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 89 512\nL 117 512\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 75 408\nL 131 408\nL 131 460\nL 75 460\nL 75 408\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 175 303\nL 175 335\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 175 408\nL 175 460\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 161 303\nL 189 303\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 161 460\nL 189 460\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 147 335\nL 203 335\nL 203 408\nL 147 408\nL 147 335\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 247 272\nL 247 303\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 247 335\nL 247 376\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 233 272\nL 261 272\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 233 376\nL 261 376\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 219 303\nL 275 303\nL 275 335\nL 219 335\nL 219 303\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 319 251\nL 319 272\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 319 303\nL 319 355\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 305 251\nL 333 251\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 305 355\nL 333 355\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 291 272\nL 347 272\nL 347 303\nL 291 303\nL 291 272\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 392 199\nL 392 230\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 392 272\nL 392 303\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 378 199\nL 406 199\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 378 303\nL 406 303\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 364 230\nL 420 230\nL 420 272\nL 364 272\nL 364 230\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 464 167\nL 464 199\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 464 230\nL 464 261\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 450 167\nL 478 167\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 450 261\nL 478 261\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 436 199\nL 492 199\nL 492 230\nL 436 230\nL 436 199\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 536 146\nL 536 178\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 536 199\nL 536 230\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 522 146\nL 550 146\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 522 230\nL 550 230\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 508 178\nL 564 178\nL 564 199\nL 508 199\nL 508 178\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 609 125\nL 609 157\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 609 178\nL 609 209\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 595 125\nL 623 125\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 595 209\nL 623 209\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 581 157\nL 637 157\nL 637 178\nL 581 178\nL 581 157\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 681 94\nL 681 136\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 681 157\nL 681 188\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 667 94\nL 695 94\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 667 188\nL 695 188\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 653 136\nL 709 136\nL 709 157\nL 653 157\nL 653 136\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 753 63\nL 753 94\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 753 136\nL 753 167\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 739 63\nL 767 63\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 739 167\nL 767 167\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 725 94\nL 781 94\nL 781 136\nL 725 136\nL 725 94\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 103 261\nL 175 229\nL 247 189\nL 319 170\nL 392 144\nL 464 126\nL 536 115\nL 609 81\nL 681 79\nL 753 77\" style=\"stroke-width:2;stroke:rgb(46,80,184);fill:none\"/><path  d=\"M 103 348\nL 175 329\nL 247 309\nL 319 268\nL 392 236\nL 464 207\nL 536 180\nL 609 153\nL 681 141\nL 753 129\" style=\"stroke-width:2;stroke:rgb(46,80,184);fill:none\"/><path  d=\"M 103 436\nL 175 430\nL 247 430\nL 319 365\nL 392 328\nL 464 288\nL 536 245\nL 609 225\nL 681 203\nL 753 181\" style=\"stroke-width:2;stroke:rgb(46,80,184);fill:none\"/></svg>",
			pngCRC: 0x7c4ef173,
		},
		{
			name: "aggregation",
			makeOptions: func() CandlestickChartOption {
				// Create longer dataset to test aggregation
				data := []OHLCData{
					{Open: 100, High: 110, Low: 95, Close: 105},  // Period 1
					{Open: 105, High: 115, Low: 100, Close: 112}, // Period 1
					{Open: 112, High: 118, Low: 108, Close: 115}, // Period 2
					{Open: 115, High: 120, Low: 110, Close: 118}, // Period 2
					{Open: 118, High: 125, Low: 115, Close: 122}, // Period 3
					{Open: 122, High: 128, Low: 119, Close: 125}, // Period 3
				}
				series := CandlestickSeries{Data: data, Name: "1-Period"}
				aggregated := AggregateCandlestick(series, 2) // Aggregate into 2-period candles

				return CandlestickChartOption{
					Padding: NewBoxEqual(10),
					XAxis: XAxisOption{
						Labels: []string{"Period 1", "Period 2", "Period 3"},
					},
					YAxis:      make([]YAxisOption, 1),
					SeriesList: CandlestickSeriesList{aggregated},
				}
			},
			svg:    "<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 800 600\"><path  d=\"M 0 0\nL 800 0\nL 800 600\nL 0 600\nL 0 0\" style=\"stroke:none;fill:white\"/><path  d=\"M 355 26\nL 370 26\nL 362 13\nL 355 26\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 370 13\nL 385 13\nL 377 26\nL 370 13\" style=\"stroke:none;fill:rgb(238,102,102)\"/><text x=\"387\" y=\"25\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">1-Period</text><text x=\"30\" y=\"52\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">133</text><text x=\"9\" y=\"109\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">128.22</text><text x=\"9\" y=\"166\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">123.44</text><text x=\"9\" y=\"224\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">118.67</text><text x=\"9\" y=\"281\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">113.89</text><text x=\"9\" y=\"338\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">109.11</text><text x=\"9\" y=\"396\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">104.33</text><text x=\"17\" y=\"453\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">99.56</text><text x=\"17\" y=\"510\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">94.78</text><text x=\"39\" y=\"568\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">90</text><path  d=\"M 63 46\nL 790 46\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 103\nL 790 103\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 161\nL 790 161\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 218\nL 790 218\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 276\nL 790 276\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 333\nL 790 333\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 391\nL 790 391\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 448\nL 790 448\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 506\nL 790 506\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 67 564\nL 790 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 67 569\nL 67 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 308 569\nL 308 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 549 569\nL 549 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 790 569\nL 790 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><text x=\"158\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Period 1</text><text x=\"399\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Period 2</text><text x=\"640\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Period 3</text><path  d=\"M 187 263\nL 187 299\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 187 444\nL 187 504\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 139 263\nL 235 263\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 139 504\nL 235 504\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 91 299\nL 283 299\nL 283 444\nL 91 444\nL 91 299\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 428 203\nL 428 227\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 428 299\nL 428 348\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 380 203\nL 476 203\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 380 348\nL 476 348\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 332 227\nL 524 227\nL 524 299\nL 332 299\nL 332 227\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 669 107\nL 669 143\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 669 227\nL 669 263\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 621 107\nL 717 107\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 621 263\nL 717 263\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 573 143\nL 765 143\nL 765 227\nL 573 227\nL 573 143\" style=\"stroke:none;fill:rgb(145,204,117)\"/></svg>",
			pngCRC: 0x973d9224,
		},
		{
			name: "large_series_count",
			makeOptions: func() CandlestickChartOption {
				const seriesCount = 10
				const dataPointsPerSeries = 5

				var seriesList CandlestickSeriesList
				var seriesNames []string
				for i := 0; i < seriesCount; i++ {
					basePrice := 100.0 + float64(i*20) // Different price ranges
					data := make([]OHLCData, dataPointsPerSeries)

					for j := 0; j < dataPointsPerSeries; j++ {
						open := basePrice + float64(j*5)
						high := open + 10.0
						low := open - 5.0
						close := open + float64((j%2)*10-5) // Alternating up/down

						data[j] = OHLCData{
							Open:  open,
							High:  high,
							Low:   low,
							Close: close,
						}
					}

					series := CandlestickSeries{
						Data: data,
						Name: fmt.Sprintf("Series %d", i+1),
					}
					seriesList = append(seriesList, series)
					seriesNames = append(seriesNames, series.Name)
				}

				return CandlestickChartOption{
					XAxis: XAxisOption{
						Labels: []string{"T1", "T2", "T3", "T4", "T5"},
					},
					YAxis:      make([]YAxisOption, 1),
					SeriesList: seriesList,
					Legend: LegendOption{
						SeriesNames: seriesNames,
						Show:        Ptr(true),
					},
					Padding: NewBoxEqual(10),
				}
			},
			svg:    "<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 800 600\"><path  d=\"M 0 0\nL 800 0\nL 800 600\nL 0 600\nL 0 0\" style=\"stroke:none;fill:white\"/><path  d=\"M 10 26\nL 25 26\nL 17 13\nL 10 26\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 25 13\nL 40 13\nL 32 26\nL 25 13\" style=\"stroke:none;fill:rgb(238,102,102)\"/><text x=\"42\" y=\"25\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Series 1</text><path  d=\"M 118 26\nL 133 26\nL 125 13\nL 118 26\" style=\"stroke:none;fill:rgb(115,192,222)\"/><path  d=\"M 133 13\nL 148 13\nL 140 26\nL 133 13\" style=\"stroke:none;fill:rgb(252,132,82)\"/><text x=\"150\" y=\"25\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Series 2</text><path  d=\"M 226 26\nL 241 26\nL 233 13\nL 226 26\" style=\"stroke:none;fill:rgb(84,112,198)\"/><path  d=\"M 241 13\nL 256 13\nL 248 26\nL 241 13\" style=\"stroke:none;fill:rgb(234,124,204)\"/><text x=\"258\" y=\"25\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Series 3</text><path  d=\"M 334 26\nL 349 26\nL 341 13\nL 334 26\" style=\"stroke:none;fill:rgb(171,207,154)\"/><path  d=\"M 349 13\nL 364 13\nL 356 26\nL 349 13\" style=\"stroke:none;fill:rgb(235,145,145)\"/><text x=\"366\" y=\"25\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Series 4</text><path  d=\"M 442 26\nL 457 26\nL 449 13\nL 442 26\" style=\"stroke:none;fill:rgb(154,203,223)\"/><path  d=\"M 457 13\nL 472 13\nL 464 26\nL 457 13\" style=\"stroke:none;fill:rgb(245,163,128)\"/><text x=\"474\" y=\"25\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Series 5</text><path  d=\"M 550 26\nL 565 26\nL 557 13\nL 550 26\" style=\"stroke:none;fill:rgb(123,142,198)\"/><path  d=\"M 565 13\nL 580 13\nL 572 26\nL 565 13\" style=\"stroke:none;fill:rgb(234,164,215)\"/><text x=\"582\" y=\"25\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Series 6</text><path  d=\"M 658 26\nL 673 26\nL 665 13\nL 658 26\" style=\"stroke:none;fill:rgb(196,215,187)\"/><path  d=\"M 673 13\nL 688 13\nL 680 26\nL 673 13\" style=\"stroke:none;fill:rgb(237,184,184)\"/><text x=\"690\" y=\"25\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Series 7</text><path  d=\"M 10 42\nL 25 42\nL 17 29\nL 10 42\" style=\"stroke:none;fill:rgb(190,217,228)\"/><path  d=\"M 25 29\nL 40 29\nL 32 42\nL 25 29\" style=\"stroke:none;fill:rgb(243,192,171)\"/><text x=\"42\" y=\"41\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Series 8</text><path  d=\"M 118 42\nL 133 42\nL 125 29\nL 118 42\" style=\"stroke:none;fill:rgb(159,170,203)\"/><path  d=\"M 133 29\nL 148 29\nL 140 42\nL 133 29\" style=\"stroke:none;fill:rgb(238,201,228)\"/><text x=\"150\" y=\"41\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Series 9</text><path  d=\"M 226 42\nL 241 42\nL 233 29\nL 226 42\" style=\"stroke:none;fill:rgb(219,227,216)\"/><path  d=\"M 241 29\nL 256 29\nL 248 42\nL 241 29\" style=\"stroke:none;fill:rgb(243,219,219)\"/><text x=\"258\" y=\"41\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Series 10</text><text x=\"9\" y=\"68\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">315</text><text x=\"9\" y=\"123\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">290</text><text x=\"9\" y=\"179\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">265</text><text x=\"9\" y=\"234\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">240</text><text x=\"9\" y=\"290\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">215</text><text x=\"9\" y=\"345\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">190</text><text x=\"9\" y=\"401\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">165</text><text x=\"9\" y=\"456\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">140</text><text x=\"9\" y=\"512\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">115</text><text x=\"18\" y=\"568\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">90</text><path  d=\"M 42 62\nL 790 62\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 42 117\nL 790 117\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 42 173\nL 790 173\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 42 229\nL 790 229\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 42 285\nL 790 285\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 42 340\nL 790 340\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 42 396\nL 790 396\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 42 452\nL 790 452\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 42 508\nL 790 508\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 46 564\nL 790 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 46 569\nL 46 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 194 569\nL 194 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 343 569\nL 343 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 492 569\nL 492 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 641 569\nL 641 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 790 569\nL 790 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><text x=\"111\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">T1</text><text x=\"259\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">T2</text><text x=\"408\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">T3</text><text x=\"557\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">T4</text><text x=\"706\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">T5</text><path  d=\"M 60 520\nL 60 542\" style=\"stroke-width:1;stroke:rgb(238,102,102);fill:none\"/><path  d=\"M 58 520\nL 62 520\" style=\"stroke-width:1;stroke:rgb(238,102,102);fill:none\"/><path  d=\"M 58 553\nL 62 553\" style=\"stroke-width:1;stroke:rgb(238,102,102);fill:none\"/><path  d=\"M 56 542\nL 64 542\nL 64 553\nL 56 553\nL 56 542\" style=\"stroke:none;fill:rgb(238,102,102)\"/><path  d=\"M 208 509\nL 208 520\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 208 531\nL 208 542\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 206 509\nL 210 509\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 206 542\nL 210 542\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 204 520\nL 212 520\nL 212 531\nL 204 531\nL 204 520\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 357 498\nL 357 520\" style=\"stroke-width:1;stroke:rgb(238,102,102);fill:none\"/><path  d=\"M 355 498\nL 359 498\" style=\"stroke-width:1;stroke:rgb(238,102,102);fill:none\"/><path  d=\"M 355 531\nL 359 531\" style=\"stroke-width:1;stroke:rgb(238,102,102);fill:none\"/><path  d=\"M 353 520\nL 361 520\nL 361 531\nL 353 531\nL 353 520\" style=\"stroke:none;fill:rgb(238,102,102)\"/><path  d=\"M 506 486\nL 506 498\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 506 509\nL 506 520\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 504 486\nL 508 486\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 504 520\nL 508 520\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 502 498\nL 510 498\nL 510 509\nL 502 509\nL 502 498\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 655 475\nL 655 498\" style=\"stroke-width:1;stroke:rgb(238,102,102);fill:none\"/><path  d=\"M 653 475\nL 657 475\" style=\"stroke-width:1;stroke:rgb(238,102,102);fill:none\"/><path  d=\"M 653 509\nL 657 509\" style=\"stroke-width:1;stroke:rgb(238,102,102);fill:none\"/><path  d=\"M 651 498\nL 659 498\nL 659 509\nL 651 509\nL 651 498\" style=\"stroke:none;fill:rgb(238,102,102)\"/><path  d=\"M 73 475\nL 73 498\" style=\"stroke-width:1;stroke:rgb(252,132,82);fill:none\"/><path  d=\"M 71 475\nL 75 475\" style=\"stroke-width:1;stroke:rgb(252,132,82);fill:none\"/><path  d=\"M 71 509\nL 75 509\" style=\"stroke-width:1;stroke:rgb(252,132,82);fill:none\"/><path  d=\"M 69 498\nL 77 498\nL 77 509\nL 69 509\nL 69 498\" style=\"stroke:none;fill:rgb(252,132,82)\"/><path  d=\"M 221 464\nL 221 475\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 221 486\nL 221 498\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 219 464\nL 223 464\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 219 498\nL 223 498\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 217 475\nL 225 475\nL 225 486\nL 217 486\nL 217 475\" style=\"stroke:none;fill:rgb(115,192,222)\"/><path  d=\"M 370 453\nL 370 475\" style=\"stroke-width:1;stroke:rgb(252,132,82);fill:none\"/><path  d=\"M 368 453\nL 372 453\" style=\"stroke-width:1;stroke:rgb(252,132,82);fill:none\"/><path  d=\"M 368 486\nL 372 486\" style=\"stroke-width:1;stroke:rgb(252,132,82);fill:none\"/><path  d=\"M 366 475\nL 374 475\nL 374 486\nL 366 486\nL 366 475\" style=\"stroke:none;fill:rgb(252,132,82)\"/><path  d=\"M 519 442\nL 519 453\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 519 464\nL 519 475\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 517 442\nL 521 442\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 517 475\nL 521 475\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 515 453\nL 523 453\nL 523 464\nL 515 464\nL 515 453\" style=\"stroke:none;fill:rgb(115,192,222)\"/><path  d=\"M 668 431\nL 668 453\" style=\"stroke-width:1;stroke:rgb(252,132,82);fill:none\"/><path  d=\"M 666 431\nL 670 431\" style=\"stroke-width:1;stroke:rgb(252,132,82);fill:none\"/><path  d=\"M 666 464\nL 670 464\" style=\"stroke-width:1;stroke:rgb(252,132,82);fill:none\"/><path  d=\"M 664 453\nL 672 453\nL 672 464\nL 664 464\nL 664 453\" style=\"stroke:none;fill:rgb(252,132,82)\"/><path  d=\"M 86 431\nL 86 453\" style=\"stroke-width:1;stroke:rgb(234,124,204);fill:none\"/><path  d=\"M 84 431\nL 88 431\" style=\"stroke-width:1;stroke:rgb(234,124,204);fill:none\"/><path  d=\"M 84 464\nL 88 464\" style=\"stroke-width:1;stroke:rgb(234,124,204);fill:none\"/><path  d=\"M 82 453\nL 90 453\nL 90 464\nL 82 464\nL 82 453\" style=\"stroke:none;fill:rgb(234,124,204)\"/><path  d=\"M 234 419\nL 234 431\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:none\"/><path  d=\"M 234 442\nL 234 453\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:none\"/><path  d=\"M 232 419\nL 236 419\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:none\"/><path  d=\"M 232 453\nL 236 453\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:none\"/><path  d=\"M 230 431\nL 238 431\nL 238 442\nL 230 442\nL 230 431\" style=\"stroke:none;fill:rgb(84,112,198)\"/><path  d=\"M 383 408\nL 383 431\" style=\"stroke-width:1;stroke:rgb(234,124,204);fill:none\"/><path  d=\"M 381 408\nL 385 408\" style=\"stroke-width:1;stroke:rgb(234,124,204);fill:none\"/><path  d=\"M 381 442\nL 385 442\" style=\"stroke-width:1;stroke:rgb(234,124,204);fill:none\"/><path  d=\"M 379 431\nL 387 431\nL 387 442\nL 379 442\nL 379 431\" style=\"stroke:none;fill:rgb(234,124,204)\"/><path  d=\"M 532 397\nL 532 408\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:none\"/><path  d=\"M 532 419\nL 532 431\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:none\"/><path  d=\"M 530 397\nL 534 397\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:none\"/><path  d=\"M 530 431\nL 534 431\" style=\"stroke-width:1;stroke:rgb(84,112,198);fill:none\"/><path  d=\"M 528 408\nL 536 408\nL 536 419\nL 528 419\nL 528 408\" style=\"stroke:none;fill:rgb(84,112,198)\"/><path  d=\"M 681 386\nL 681 408\" style=\"stroke-width:1;stroke:rgb(234,124,204);fill:none\"/><path  d=\"M 679 386\nL 683 386\" style=\"stroke-width:1;stroke:rgb(234,124,204);fill:none\"/><path  d=\"M 679 419\nL 683 419\" style=\"stroke-width:1;stroke:rgb(234,124,204);fill:none\"/><path  d=\"M 677 408\nL 685 408\nL 685 419\nL 677 419\nL 677 408\" style=\"stroke:none;fill:rgb(234,124,204)\"/><path  d=\"M 99 386\nL 99 408\" style=\"stroke-width:1;stroke:rgb(235,145,145);fill:none\"/><path  d=\"M 97 386\nL 101 386\" style=\"stroke-width:1;stroke:rgb(235,145,145);fill:none\"/><path  d=\"M 97 419\nL 101 419\" style=\"stroke-width:1;stroke:rgb(235,145,145);fill:none\"/><path  d=\"M 95 408\nL 103 408\nL 103 419\nL 95 419\nL 95 408\" style=\"stroke:none;fill:rgb(235,145,145)\"/><path  d=\"M 247 375\nL 247 386\" style=\"stroke-width:1;stroke:rgb(171,207,154);fill:none\"/><path  d=\"M 247 397\nL 247 408\" style=\"stroke-width:1;stroke:rgb(171,207,154);fill:none\"/><path  d=\"M 245 375\nL 249 375\" style=\"stroke-width:1;stroke:rgb(171,207,154);fill:none\"/><path  d=\"M 245 408\nL 249 408\" style=\"stroke-width:1;stroke:rgb(171,207,154);fill:none\"/><path  d=\"M 243 386\nL 251 386\nL 251 397\nL 243 397\nL 243 386\" style=\"stroke:none;fill:rgb(171,207,154)\"/><path  d=\"M 396 364\nL 396 386\" style=\"stroke-width:1;stroke:rgb(235,145,145);fill:none\"/><path  d=\"M 394 364\nL 398 364\" style=\"stroke-width:1;stroke:rgb(235,145,145);fill:none\"/><path  d=\"M 394 397\nL 398 397\" style=\"stroke-width:1;stroke:rgb(235,145,145);fill:none\"/><path  d=\"M 392 386\nL 400 386\nL 400 397\nL 392 397\nL 392 386\" style=\"stroke:none;fill:rgb(235,145,145)\"/><path  d=\"M 545 353\nL 545 364\" style=\"stroke-width:1;stroke:rgb(171,207,154);fill:none\"/><path  d=\"M 545 375\nL 545 386\" style=\"stroke-width:1;stroke:rgb(171,207,154);fill:none\"/><path  d=\"M 543 353\nL 547 353\" style=\"stroke-width:1;stroke:rgb(171,207,154);fill:none\"/><path  d=\"M 543 386\nL 547 386\" style=\"stroke-width:1;stroke:rgb(171,207,154);fill:none\"/><path  d=\"M 541 364\nL 549 364\nL 549 375\nL 541 375\nL 541 364\" style=\"stroke:none;fill:rgb(171,207,154)\"/><path  d=\"M 694 341\nL 694 364\" style=\"stroke-width:1;stroke:rgb(235,145,145);fill:none\"/><path  d=\"M 692 341\nL 696 341\" style=\"stroke-width:1;stroke:rgb(235,145,145);fill:none\"/><path  d=\"M 692 375\nL 696 375\" style=\"stroke-width:1;stroke:rgb(235,145,145);fill:none\"/><path  d=\"M 690 364\nL 698 364\nL 698 375\nL 690 375\nL 690 364\" style=\"stroke:none;fill:rgb(235,145,145)\"/><path  d=\"M 112 341\nL 112 364\" style=\"stroke-width:1;stroke:rgb(245,163,128);fill:none\"/><path  d=\"M 110 341\nL 114 341\" style=\"stroke-width:1;stroke:rgb(245,163,128);fill:none\"/><path  d=\"M 110 375\nL 114 375\" style=\"stroke-width:1;stroke:rgb(245,163,128);fill:none\"/><path  d=\"M 108 364\nL 116 364\nL 116 375\nL 108 375\nL 108 364\" style=\"stroke:none;fill:rgb(245,163,128)\"/><path  d=\"M 260 330\nL 260 341\" style=\"stroke-width:1;stroke:rgb(154,203,223);fill:none\"/><path  d=\"M 260 353\nL 260 364\" style=\"stroke-width:1;stroke:rgb(154,203,223);fill:none\"/><path  d=\"M 258 330\nL 262 330\" style=\"stroke-width:1;stroke:rgb(154,203,223);fill:none\"/><path  d=\"M 258 364\nL 262 364\" style=\"stroke-width:1;stroke:rgb(154,203,223);fill:none\"/><path  d=\"M 256 341\nL 264 341\nL 264 353\nL 256 353\nL 256 341\" style=\"stroke:none;fill:rgb(154,203,223)\"/><path  d=\"M 409 319\nL 409 341\" style=\"stroke-width:1;stroke:rgb(245,163,128);fill:none\"/><path  d=\"M 407 319\nL 411 319\" style=\"stroke-width:1;stroke:rgb(245,163,128);fill:none\"/><path  d=\"M 407 353\nL 411 353\" style=\"stroke-width:1;stroke:rgb(245,163,128);fill:none\"/><path  d=\"M 405 341\nL 413 341\nL 413 353\nL 405 353\nL 405 341\" style=\"stroke:none;fill:rgb(245,163,128)\"/><path  d=\"M 558 308\nL 558 319\" style=\"stroke-width:1;stroke:rgb(154,203,223);fill:none\"/><path  d=\"M 558 330\nL 558 341\" style=\"stroke-width:1;stroke:rgb(154,203,223);fill:none\"/><path  d=\"M 556 308\nL 560 308\" style=\"stroke-width:1;stroke:rgb(154,203,223);fill:none\"/><path  d=\"M 556 341\nL 560 341\" style=\"stroke-width:1;stroke:rgb(154,203,223);fill:none\"/><path  d=\"M 554 319\nL 562 319\nL 562 330\nL 554 330\nL 554 319\" style=\"stroke:none;fill:rgb(154,203,223)\"/><path  d=\"M 707 297\nL 707 319\" style=\"stroke-width:1;stroke:rgb(245,163,128);fill:none\"/><path  d=\"M 705 297\nL 709 297\" style=\"stroke-width:1;stroke:rgb(245,163,128);fill:none\"/><path  d=\"M 705 330\nL 709 330\" style=\"stroke-width:1;stroke:rgb(245,163,128);fill:none\"/><path  d=\"M 703 319\nL 711 319\nL 711 330\nL 703 330\nL 703 319\" style=\"stroke:none;fill:rgb(245,163,128)\"/><path  d=\"M 125 297\nL 125 319\" style=\"stroke-width:1;stroke:rgb(234,164,215);fill:none\"/><path  d=\"M 123 297\nL 127 297\" style=\"stroke-width:1;stroke:rgb(234,164,215);fill:none\"/><path  d=\"M 123 330\nL 127 330\" style=\"stroke-width:1;stroke:rgb(234,164,215);fill:none\"/><path  d=\"M 121 319\nL 129 319\nL 129 330\nL 121 330\nL 121 319\" style=\"stroke:none;fill:rgb(234,164,215)\"/><path  d=\"M 273 286\nL 273 297\" style=\"stroke-width:1;stroke:rgb(123,142,198);fill:none\"/><path  d=\"M 273 308\nL 273 319\" style=\"stroke-width:1;stroke:rgb(123,142,198);fill:none\"/><path  d=\"M 271 286\nL 275 286\" style=\"stroke-width:1;stroke:rgb(123,142,198);fill:none\"/><path  d=\"M 271 319\nL 275 319\" style=\"stroke-width:1;stroke:rgb(123,142,198);fill:none\"/><path  d=\"M 269 297\nL 277 297\nL 277 308\nL 269 308\nL 269 297\" style=\"stroke:none;fill:rgb(123,142,198)\"/><path  d=\"M 422 274\nL 422 297\" style=\"stroke-width:1;stroke:rgb(234,164,215);fill:none\"/><path  d=\"M 420 274\nL 424 274\" style=\"stroke-width:1;stroke:rgb(234,164,215);fill:none\"/><path  d=\"M 420 308\nL 424 308\" style=\"stroke-width:1;stroke:rgb(234,164,215);fill:none\"/><path  d=\"M 418 297\nL 426 297\nL 426 308\nL 418 308\nL 418 297\" style=\"stroke:none;fill:rgb(234,164,215)\"/><path  d=\"M 571 263\nL 571 274\" style=\"stroke-width:1;stroke:rgb(123,142,198);fill:none\"/><path  d=\"M 571 286\nL 571 297\" style=\"stroke-width:1;stroke:rgb(123,142,198);fill:none\"/><path  d=\"M 569 263\nL 573 263\" style=\"stroke-width:1;stroke:rgb(123,142,198);fill:none\"/><path  d=\"M 569 297\nL 573 297\" style=\"stroke-width:1;stroke:rgb(123,142,198);fill:none\"/><path  d=\"M 567 274\nL 575 274\nL 575 286\nL 567 286\nL 567 274\" style=\"stroke:none;fill:rgb(123,142,198)\"/><path  d=\"M 720 252\nL 720 274\" style=\"stroke-width:1;stroke:rgb(234,164,215);fill:none\"/><path  d=\"M 718 252\nL 722 252\" style=\"stroke-width:1;stroke:rgb(234,164,215);fill:none\"/><path  d=\"M 718 286\nL 722 286\" style=\"stroke-width:1;stroke:rgb(234,164,215);fill:none\"/><path  d=\"M 716 274\nL 724 274\nL 724 286\nL 716 286\nL 716 274\" style=\"stroke:none;fill:rgb(234,164,215)\"/><path  d=\"M 138 252\nL 138 274\" style=\"stroke-width:1;stroke:rgb(237,184,184);fill:none\"/><path  d=\"M 136 252\nL 140 252\" style=\"stroke-width:1;stroke:rgb(237,184,184);fill:none\"/><path  d=\"M 136 286\nL 140 286\" style=\"stroke-width:1;stroke:rgb(237,184,184);fill:none\"/><path  d=\"M 134 274\nL 142 274\nL 142 286\nL 134 286\nL 134 274\" style=\"stroke:none;fill:rgb(237,184,184)\"/><path  d=\"M 286 241\nL 286 252\" style=\"stroke-width:1;stroke:rgb(196,215,187);fill:none\"/><path  d=\"M 286 263\nL 286 274\" style=\"stroke-width:1;stroke:rgb(196,215,187);fill:none\"/><path  d=\"M 284 241\nL 288 241\" style=\"stroke-width:1;stroke:rgb(196,215,187);fill:none\"/><path  d=\"M 284 274\nL 288 274\" style=\"stroke-width:1;stroke:rgb(196,215,187);fill:none\"/><path  d=\"M 282 252\nL 290 252\nL 290 263\nL 282 263\nL 282 252\" style=\"stroke:none;fill:rgb(196,215,187)\"/><path  d=\"M 435 230\nL 435 252\" style=\"stroke-width:1;stroke:rgb(237,184,184);fill:none\"/><path  d=\"M 433 230\nL 437 230\" style=\"stroke-width:1;stroke:rgb(237,184,184);fill:none\"/><path  d=\"M 433 263\nL 437 263\" style=\"stroke-width:1;stroke:rgb(237,184,184);fill:none\"/><path  d=\"M 431 252\nL 439 252\nL 439 263\nL 431 263\nL 431 252\" style=\"stroke:none;fill:rgb(237,184,184)\"/><path  d=\"M 584 219\nL 584 230\" style=\"stroke-width:1;stroke:rgb(196,215,187);fill:none\"/><path  d=\"M 584 241\nL 584 252\" style=\"stroke-width:1;stroke:rgb(196,215,187);fill:none\"/><path  d=\"M 582 219\nL 586 219\" style=\"stroke-width:1;stroke:rgb(196,215,187);fill:none\"/><path  d=\"M 582 252\nL 586 252\" style=\"stroke-width:1;stroke:rgb(196,215,187);fill:none\"/><path  d=\"M 580 230\nL 588 230\nL 588 241\nL 580 241\nL 580 230\" style=\"stroke:none;fill:rgb(196,215,187)\"/><path  d=\"M 733 208\nL 733 230\" style=\"stroke-width:1;stroke:rgb(237,184,184);fill:none\"/><path  d=\"M 731 208\nL 735 208\" style=\"stroke-width:1;stroke:rgb(237,184,184);fill:none\"/><path  d=\"M 731 241\nL 735 241\" style=\"stroke-width:1;stroke:rgb(237,184,184);fill:none\"/><path  d=\"M 729 230\nL 737 230\nL 737 241\nL 729 241\nL 729 230\" style=\"stroke:none;fill:rgb(237,184,184)\"/><path  d=\"M 151 208\nL 151 230\" style=\"stroke-width:1;stroke:rgb(243,192,171);fill:none\"/><path  d=\"M 149 208\nL 153 208\" style=\"stroke-width:1;stroke:rgb(243,192,171);fill:none\"/><path  d=\"M 149 241\nL 153 241\" style=\"stroke-width:1;stroke:rgb(243,192,171);fill:none\"/><path  d=\"M 147 230\nL 155 230\nL 155 241\nL 147 241\nL 147 230\" style=\"stroke:none;fill:rgb(243,192,171)\"/><path  d=\"M 299 196\nL 299 208\" style=\"stroke-width:1;stroke:rgb(190,217,228);fill:none\"/><path  d=\"M 299 219\nL 299 230\" style=\"stroke-width:1;stroke:rgb(190,217,228);fill:none\"/><path  d=\"M 297 196\nL 301 196\" style=\"stroke-width:1;stroke:rgb(190,217,228);fill:none\"/><path  d=\"M 297 230\nL 301 230\" style=\"stroke-width:1;stroke:rgb(190,217,228);fill:none\"/><path  d=\"M 295 208\nL 303 208\nL 303 219\nL 295 219\nL 295 208\" style=\"stroke:none;fill:rgb(190,217,228)\"/><path  d=\"M 448 185\nL 448 208\" style=\"stroke-width:1;stroke:rgb(243,192,171);fill:none\"/><path  d=\"M 446 185\nL 450 185\" style=\"stroke-width:1;stroke:rgb(243,192,171);fill:none\"/><path  d=\"M 446 219\nL 450 219\" style=\"stroke-width:1;stroke:rgb(243,192,171);fill:none\"/><path  d=\"M 444 208\nL 452 208\nL 452 219\nL 444 219\nL 444 208\" style=\"stroke:none;fill:rgb(243,192,171)\"/><path  d=\"M 597 174\nL 597 185\" style=\"stroke-width:1;stroke:rgb(190,217,228);fill:none\"/><path  d=\"M 597 196\nL 597 208\" style=\"stroke-width:1;stroke:rgb(190,217,228);fill:none\"/><path  d=\"M 595 174\nL 599 174\" style=\"stroke-width:1;stroke:rgb(190,217,228);fill:none\"/><path  d=\"M 595 208\nL 599 208\" style=\"stroke-width:1;stroke:rgb(190,217,228);fill:none\"/><path  d=\"M 593 185\nL 601 185\nL 601 196\nL 593 196\nL 593 185\" style=\"stroke:none;fill:rgb(190,217,228)\"/><path  d=\"M 746 163\nL 746 185\" style=\"stroke-width:1;stroke:rgb(243,192,171);fill:none\"/><path  d=\"M 744 163\nL 748 163\" style=\"stroke-width:1;stroke:rgb(243,192,171);fill:none\"/><path  d=\"M 744 196\nL 748 196\" style=\"stroke-width:1;stroke:rgb(243,192,171);fill:none\"/><path  d=\"M 742 185\nL 750 185\nL 750 196\nL 742 196\nL 742 185\" style=\"stroke:none;fill:rgb(243,192,171)\"/><path  d=\"M 164 163\nL 164 185\" style=\"stroke-width:1;stroke:rgb(238,201,228);fill:none\"/><path  d=\"M 162 163\nL 166 163\" style=\"stroke-width:1;stroke:rgb(238,201,228);fill:none\"/><path  d=\"M 162 196\nL 166 196\" style=\"stroke-width:1;stroke:rgb(238,201,228);fill:none\"/><path  d=\"M 160 185\nL 168 185\nL 168 196\nL 160 196\nL 160 185\" style=\"stroke:none;fill:rgb(238,201,228)\"/><path  d=\"M 312 152\nL 312 163\" style=\"stroke-width:1;stroke:rgb(159,170,203);fill:none\"/><path  d=\"M 312 174\nL 312 185\" style=\"stroke-width:1;stroke:rgb(159,170,203);fill:none\"/><path  d=\"M 310 152\nL 314 152\" style=\"stroke-width:1;stroke:rgb(159,170,203);fill:none\"/><path  d=\"M 310 185\nL 314 185\" style=\"stroke-width:1;stroke:rgb(159,170,203);fill:none\"/><path  d=\"M 308 163\nL 316 163\nL 316 174\nL 308 174\nL 308 163\" style=\"stroke:none;fill:rgb(159,170,203)\"/><path  d=\"M 461 141\nL 461 163\" style=\"stroke-width:1;stroke:rgb(238,201,228);fill:none\"/><path  d=\"M 459 141\nL 463 141\" style=\"stroke-width:1;stroke:rgb(238,201,228);fill:none\"/><path  d=\"M 459 174\nL 463 174\" style=\"stroke-width:1;stroke:rgb(238,201,228);fill:none\"/><path  d=\"M 457 163\nL 465 163\nL 465 174\nL 457 174\nL 457 163\" style=\"stroke:none;fill:rgb(238,201,228)\"/><path  d=\"M 610 129\nL 610 141\" style=\"stroke-width:1;stroke:rgb(159,170,203);fill:none\"/><path  d=\"M 610 152\nL 610 163\" style=\"stroke-width:1;stroke:rgb(159,170,203);fill:none\"/><path  d=\"M 608 129\nL 612 129\" style=\"stroke-width:1;stroke:rgb(159,170,203);fill:none\"/><path  d=\"M 608 163\nL 612 163\" style=\"stroke-width:1;stroke:rgb(159,170,203);fill:none\"/><path  d=\"M 606 141\nL 614 141\nL 614 152\nL 606 152\nL 606 141\" style=\"stroke:none;fill:rgb(159,170,203)\"/><path  d=\"M 759 118\nL 759 141\" style=\"stroke-width:1;stroke:rgb(238,201,228);fill:none\"/><path  d=\"M 757 118\nL 761 118\" style=\"stroke-width:1;stroke:rgb(238,201,228);fill:none\"/><path  d=\"M 757 152\nL 761 152\" style=\"stroke-width:1;stroke:rgb(238,201,228);fill:none\"/><path  d=\"M 755 141\nL 763 141\nL 763 152\nL 755 152\nL 755 141\" style=\"stroke:none;fill:rgb(238,201,228)\"/><path  d=\"M 177 118\nL 177 141\" style=\"stroke-width:1;stroke:rgb(243,219,219);fill:none\"/><path  d=\"M 175 118\nL 179 118\" style=\"stroke-width:1;stroke:rgb(243,219,219);fill:none\"/><path  d=\"M 175 152\nL 179 152\" style=\"stroke-width:1;stroke:rgb(243,219,219);fill:none\"/><path  d=\"M 173 141\nL 181 141\nL 181 152\nL 173 152\nL 173 141\" style=\"stroke:none;fill:rgb(243,219,219)\"/><path  d=\"M 325 107\nL 325 118\" style=\"stroke-width:1;stroke:rgb(219,227,216);fill:none\"/><path  d=\"M 325 129\nL 325 141\" style=\"stroke-width:1;stroke:rgb(219,227,216);fill:none\"/><path  d=\"M 323 107\nL 327 107\" style=\"stroke-width:1;stroke:rgb(219,227,216);fill:none\"/><path  d=\"M 323 141\nL 327 141\" style=\"stroke-width:1;stroke:rgb(219,227,216);fill:none\"/><path  d=\"M 321 118\nL 329 118\nL 329 129\nL 321 129\nL 321 118\" style=\"stroke:none;fill:rgb(219,227,216)\"/><path  d=\"M 474 96\nL 474 118\" style=\"stroke-width:1;stroke:rgb(243,219,219);fill:none\"/><path  d=\"M 472 96\nL 476 96\" style=\"stroke-width:1;stroke:rgb(243,219,219);fill:none\"/><path  d=\"M 472 129\nL 476 129\" style=\"stroke-width:1;stroke:rgb(243,219,219);fill:none\"/><path  d=\"M 470 118\nL 478 118\nL 478 129\nL 470 129\nL 470 118\" style=\"stroke:none;fill:rgb(243,219,219)\"/><path  d=\"M 623 85\nL 623 96\" style=\"stroke-width:1;stroke:rgb(219,227,216);fill:none\"/><path  d=\"M 623 107\nL 623 118\" style=\"stroke-width:1;stroke:rgb(219,227,216);fill:none\"/><path  d=\"M 621 85\nL 625 85\" style=\"stroke-width:1;stroke:rgb(219,227,216);fill:none\"/><path  d=\"M 621 118\nL 625 118\" style=\"stroke-width:1;stroke:rgb(219,227,216);fill:none\"/><path  d=\"M 619 96\nL 627 96\nL 627 107\nL 619 107\nL 619 96\" style=\"stroke:none;fill:rgb(219,227,216)\"/><path  d=\"M 772 74\nL 772 96\" style=\"stroke-width:1;stroke:rgb(243,219,219);fill:none\"/><path  d=\"M 770 74\nL 774 74\" style=\"stroke-width:1;stroke:rgb(243,219,219);fill:none\"/><path  d=\"M 770 107\nL 774 107\" style=\"stroke-width:1;stroke:rgb(243,219,219);fill:none\"/><path  d=\"M 768 96\nL 776 96\nL 776 107\nL 768 107\nL 768 96\" style=\"stroke:none;fill:rgb(243,219,219)\"/></svg>",
			pngCRC: 0x5a84f38f,
		},
		{
			name: "series_styles",
			makeOptions: func() CandlestickChartOption {
				// Create different datasets for multiple series with different styles
				series1Data := []OHLCData{
					{Open: 100.0, High: 110.0, Low: 95.0, Close: 105.0},
					{Open: 105.0, High: 115.0, Low: 100.0, Close: 112.0},
					{Open: 112.0, High: 118.0, Low: 108.0, Close: 115.0},
				}
				series2Data := []OHLCData{
					{Open: 150.0, High: 160.0, Low: 145.0, Close: 155.0},
					{Open: 155.0, High: 165.0, Low: 150.0, Close: 162.0},
					{Open: 162.0, High: 168.0, Low: 158.0, Close: 165.0},
				}
				return CandlestickChartOption{
					XAxis: XAxisOption{
						Labels: []string{"Day 1", "Day 2", "Day 3"},
					},
					YAxis: make([]YAxisOption, 1),
					SeriesList: CandlestickSeriesList{
						{
							Data:        series1Data,
							Name:        "Stock A (Filled)",
							CandleStyle: CandleStyleFilled,
						},
						{
							Data:        series2Data,
							Name:        "Stock B (Traditional)",
							CandleStyle: CandleStyleTraditional,
						},
					},
					Legend:  LegendOption{Show: Ptr(false)},
					Padding: NewBoxEqual(10),
				}
			},
			svg:    "<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 800 600\"><path  d=\"M 0 0\nL 800 0\nL 800 600\nL 0 600\nL 0 0\" style=\"stroke:none;fill:white\"/><text x=\"9\" y=\"16\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">171</text><text x=\"9\" y=\"77\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">162</text><text x=\"9\" y=\"138\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">153</text><text x=\"9\" y=\"200\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">144</text><text x=\"9\" y=\"261\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">135</text><text x=\"9\" y=\"322\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">126</text><text x=\"9\" y=\"384\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">117</text><text x=\"9\" y=\"445\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">108</text><text x=\"18\" y=\"506\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">99</text><text x=\"18\" y=\"568\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">90</text><path  d=\"M 42 10\nL 790 10\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 42 71\nL 790 71\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 42 133\nL 790 133\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 42 194\nL 790 194\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 42 256\nL 790 256\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 42 317\nL 790 317\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 42 379\nL 790 379\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 42 440\nL 790 440\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 42 502\nL 790 502\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 46 564\nL 790 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 46 569\nL 46 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 294 569\nL 294 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 542 569\nL 542 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 790 569\nL 790 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><text x=\"151\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Day 1</text><text x=\"399\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Day 2</text><text x=\"647\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Day 3</text><path  d=\"M 117 428\nL 117 462\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 117 496\nL 117 530\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 93 428\nL 141 428\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 93 530\nL 141 530\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 68 462\nL 166 462\nL 166 496\nL 68 496\nL 68 462\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 365 394\nL 365 414\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 365 462\nL 365 496\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 341 394\nL 389 394\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 341 496\nL 389 496\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 316 414\nL 414 414\nL 414 462\nL 316 462\nL 316 414\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 613 373\nL 613 394\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 613 414\nL 613 441\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 589 373\nL 637 373\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 589 441\nL 637 441\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 564 394\nL 662 394\nL 662 414\nL 564 414\nL 564 394\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 221 86\nL 221 120\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 221 154\nL 221 188\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 197 86\nL 245 86\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 197 188\nL 245 188\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 172 120\nL 270 120\nL 270 154\nL 172 154\nL 172 120\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 469 52\nL 469 72\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 469 120\nL 469 154\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 445 52\nL 493 52\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 445 154\nL 493 154\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 420 72\nL 518 72\nL 518 120\nL 420 120\nL 420 72\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 717 31\nL 717 52\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 717 72\nL 717 99\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 693 31\nL 741 31\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 693 99\nL 741 99\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 668 52\nL 766 52\nL 766 72\nL 668 72\nL 668 52\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/></svg>",
			pngCRC: 0xa78b27a,
		},
		{
			name: "candle_margin_zero",
			makeOptions: func() CandlestickChartOption {
				// Create multiple series with similar price ranges to show candlesticks side-by-side
				series1Data := []OHLCData{
					{Open: 100.0, High: 110.0, Low: 95.0, Close: 105.0},
					{Open: 105.0, High: 115.0, Low: 100.0, Close: 112.0},
					{Open: 112.0, High: 118.0, Low: 108.0, Close: 115.0},
				}
				series2Data := []OHLCData{
					{Open: 102.0, High: 112.0, Low: 97.0, Close: 107.0},
					{Open: 107.0, High: 117.0, Low: 102.0, Close: 114.0},
					{Open: 114.0, High: 120.0, Low: 110.0, Close: 117.0},
				}
				return CandlestickChartOption{
					XAxis: XAxisOption{
						Labels: []string{"Day 1", "Day 2", "Day 3"},
					},
					YAxis: make([]YAxisOption, 1),
					SeriesList: CandlestickSeriesList{
						{Data: series1Data, Name: "Stock A"},
						{Data: series2Data, Name: "Stock B"},
					},
					CandleMargin: Ptr(0.0),
					Legend:       LegendOption{Show: Ptr(false)},
					Padding:      NewBoxEqual(10),
				}
			},
			svg:    "<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 800 600\"><path  d=\"M 0 0\nL 800 0\nL 800 600\nL 0 600\nL 0 0\" style=\"stroke:none;fill:white\"/><text x=\"30\" y=\"16\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">125</text><text x=\"9\" y=\"77\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">121.11</text><text x=\"9\" y=\"138\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">117.22</text><text x=\"9\" y=\"200\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">113.33</text><text x=\"9\" y=\"261\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">109.44</text><text x=\"9\" y=\"322\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">105.56</text><text x=\"9\" y=\"384\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">101.67</text><text x=\"17\" y=\"445\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">97.78</text><text x=\"17\" y=\"506\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">93.89</text><text x=\"39\" y=\"568\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">90</text><path  d=\"M 63 10\nL 790 10\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 71\nL 790 71\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 133\nL 790 133\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 194\nL 790 194\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 256\nL 790 256\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 317\nL 790 317\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 379\nL 790 379\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 440\nL 790 440\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 502\nL 790 502\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 67 564\nL 790 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 67 569\nL 67 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 308 569\nL 308 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 549 569\nL 549 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 790 569\nL 790 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><text x=\"168\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Day 1</text><text x=\"409\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Day 2</text><text x=\"650\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Day 3</text><path  d=\"M 139 248\nL 139 327\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 139 406\nL 139 485\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 115 248\nL 163 248\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 115 485\nL 163 485\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 91 327\nL 187 327\nL 187 406\nL 91 406\nL 91 327\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 380 169\nL 380 216\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 380 327\nL 380 406\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 356 169\nL 404 169\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 356 406\nL 404 406\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 332 216\nL 428 216\nL 428 327\nL 332 327\nL 332 216\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 621 121\nL 621 169\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 621 216\nL 621 280\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 597 121\nL 645 121\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 597 280\nL 645 280\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 573 169\nL 669 169\nL 669 216\nL 573 216\nL 573 169\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 235 216\nL 235 295\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 235 375\nL 235 454\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 211 216\nL 259 216\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 211 454\nL 259 454\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 187 295\nL 283 295\nL 283 375\nL 187 375\nL 187 295\" style=\"stroke:none;fill:rgb(115,192,222)\"/><path  d=\"M 476 137\nL 476 185\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 476 295\nL 476 375\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 452 137\nL 500 137\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 452 375\nL 500 375\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 428 185\nL 524 185\nL 524 295\nL 428 295\nL 428 185\" style=\"stroke:none;fill:rgb(115,192,222)\"/><path  d=\"M 717 90\nL 717 137\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 717 185\nL 717 248\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 693 90\nL 741 90\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 693 248\nL 741 248\" style=\"stroke-width:1;stroke:rgb(115,192,222);fill:none\"/><path  d=\"M 669 137\nL 765 137\nL 765 185\nL 669 185\nL 669 137\" style=\"stroke:none;fill:rgb(115,192,222)\"/></svg>",
			pngCRC: 0x6fe81af1,
		},
		{
			name: "null_values",
			makeOptions: func() CandlestickChartOption {
				opt := makeBasicCandlestickChartOption()
				opt.SeriesList[0] = CandlestickSeries{Data: []OHLCData{
					{Open: 100, High: 110, Low: 95, Close: 105}, // Valid
					{Open: GetNullValue(), High: GetNullValue(), Low: GetNullValue(), Close: GetNullValue()},
					{Open: 112, High: 118, Low: 108, Close: 115},            // Valid
					{Open: GetNullValue(), High: 108, Low: 105, Close: 108}, // Partial null (invalid)
					{Open: 115, High: GetNullValue(), Low: 105, Close: 108}, // Partial null (invalid)
					{Open: 108, High: 113, Low: 105, Close: 109},            // Valid
				}}
				return opt
			},
			svg:    "<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 800 600\"><path  d=\"M 0 0\nL 800 0\nL 800 600\nL 0 600\nL 0 0\" style=\"stroke:none;fill:white\"/><path  d=\"M 367 26\nL 382 26\nL 374 13\nL 367 26\" style=\"stroke:none;fill:rgb(34,197,94)\"/><path  d=\"M 382 13\nL 397 13\nL 389 26\nL 382 13\" style=\"stroke:none;fill:rgb(239,68,68)\"/><text x=\"399\" y=\"25\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Price</text><text x=\"10\" y=\"26\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Candlestick Chart</text><text x=\"9\" y=\"52\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">119.15</text><text x=\"9\" y=\"109\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">116.47</text><text x=\"9\" y=\"166\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">113.78</text><text x=\"17\" y=\"224\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">111.1</text><text x=\"9\" y=\"281\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">108.42</text><text x=\"9\" y=\"338\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">105.73</text><text x=\"9\" y=\"396\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">103.05</text><text x=\"9\" y=\"453\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">100.37</text><text x=\"17\" y=\"510\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">97.68</text><text x=\"39\" y=\"568\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">95</text><path  d=\"M 63 46\nL 790 46\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 103\nL 790 103\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 161\nL 790 161\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 218\nL 790 218\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 276\nL 790 276\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 333\nL 790 333\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 391\nL 790 391\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 448\nL 790 448\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 506\nL 790 506\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 67 564\nL 790 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 67 569\nL 67 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 187 569\nL 187 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 308 569\nL 308 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 428 569\nL 428 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 549 569\nL 549 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 669 569\nL 669 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 790 569\nL 790 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><text x=\"114\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Jan</text><text x=\"234\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Feb</text><text x=\"354\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Mar</text><text x=\"476\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Apr</text><text x=\"594\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">May</text><text x=\"725\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">6</text><path  d=\"M 127 243\nL 127 350\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 127 457\nL 127 564\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 103 243\nL 151 243\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 103 564\nL 151 564\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 79 350\nL 175 350\nL 175 457\nL 79 457\nL 79 350\" style=\"stroke:none;fill:rgb(34,197,94)\"/><path  d=\"M 368 71\nL 368 136\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 368 200\nL 368 286\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 344 71\nL 392 71\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 344 286\nL 392 286\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 320 136\nL 416 136\nL 416 200\nL 320 200\nL 320 136\" style=\"stroke:none;fill:rgb(34,197,94)\"/><path  d=\"M 729 178\nL 729 264\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 729 286\nL 729 350\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 705 178\nL 753 178\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 705 350\nL 753 350\" style=\"stroke-width:1;stroke:rgb(34,197,94);fill:none\"/><path  d=\"M 681 264\nL 777 264\nL 777 286\nL 681 286\nL 681 264\" style=\"stroke:none;fill:rgb(34,197,94)\"/></svg>",
			pngCRC: 0xc4f472f4,
		},
	}

	for i, tc := range tests {
		t.Run(strconv.Itoa(i)+"-"+tc.name, func(t *testing.T) {
			p := NewPainter(PainterOptions{
				OutputFormat: ChartOutputSVG,
				Width:        800,
				Height:       600,
			})
			r := NewPainter(PainterOptions{
				OutputFormat: ChartOutputPNG,
				Width:        800,
				Height:       600,
			})

			opt := tc.makeOptions()

			validateCandlestickChartRender(t, p, r, opt, tc.svg, tc.pngCRC)
		})
	}
}

func TestCandlestickChartError(t *testing.T) {
	t.Parallel()

	tests := []struct {
		name             string
		makeOptions      func() CandlestickChartOption
		errorMsgContains string
	}{
		{
			name: "empty_series",
			makeOptions: func() CandlestickChartOption {
				return NewCandlestickOptionWithSeries(CandlestickSeries{})
			},
			errorMsgContains: "no data in any series",
		},
	}

	for i, tt := range tests {
		t.Run(strconv.Itoa(i)+"-"+tt.name, func(t *testing.T) {
			painterOptions := PainterOptions{
				OutputFormat: ChartOutputSVG,
				Width:        600,
				Height:       400,
			}
			p := NewPainter(painterOptions)
			opt := tt.makeOptions()

			err := p.CandlestickChart(opt)
			require.Error(t, err)
			assert.Contains(t, err.Error(), tt.errorMsgContains)
		})
	}
}

func TestOHLCDataValidation(t *testing.T) {
	t.Parallel()

	tests := []struct {
		name     string
		ohlc     OHLCData
		expected bool
	}{
		{
			name:     "valid_bullish",
			ohlc:     OHLCData{Open: 100, High: 110, Low: 95, Close: 105},
			expected: true,
		},
		{
			name:     "valid_bearish",
			ohlc:     OHLCData{Open: 110, High: 115, Low: 100, Close: 105},
			expected: true,
		},
		{
			name:     "valid_doji",
			ohlc:     OHLCData{Open: 100, High: 105, Low: 95, Close: 100},
			expected: true,
		},
		{
			name:     "invalid_high_too_low",
			ohlc:     OHLCData{Open: 100, High: 98, Low: 95, Close: 105},
			expected: false,
		},
		{
			name:     "invalid_low_too_high",
			ohlc:     OHLCData{Open: 100, High: 110, Low: 102, Close: 105},
			expected: false,
		},
		{
			name:     "invalid_null_values",
			ohlc:     OHLCData{Open: GetNullValue(), High: 110, Low: 95, Close: 105},
			expected: false,
		},
	}

	for _, tt := range tests {
		t.Run(tt.name, func(t *testing.T) {
			assert.Equal(t, tt.expected, validateOHLCData(tt.ohlc))
		})
	}
}

func TestCandlestickSeriesListMethods(t *testing.T) {
	t.Parallel()

	data := makeBasicCandlestickData()
	series := CandlestickSeries{Data: data, Name: "Test Series"}
	seriesList := CandlestickSeriesList{series}

	assert.Equal(t, 1, seriesList.len())
	assert.Equal(t, "Test Series", seriesList.names()[0])
	assert.Equal(t, len(data), len(series.Data))
	assert.Equal(t, "", string(seriesList.getSeriesSymbol(0)))

	// Test ToGenericSeriesList
	genericList := seriesList.ToGenericSeriesList()
	assert.Len(t, genericList, 1)
	assert.Equal(t, ChartTypeCandlestick, genericList[0].Type)
	// OHLC data is encoded as 4 values per candlestick
	assert.Len(t, genericList[0].Values, len(data)*4)
}

func TestRenderCandlestickChart(t *testing.T) {
	t.Parallel()

	opt := ChartOption{
		SeriesList: CandlestickSeriesList{{Data: makeBasicCandlestickData()}}.ToGenericSeriesList(),
		Title:      TitleOption{Text: "Price"},
		XAxis: XAxisOption{
			Labels: []string{"Jan", "Feb", "Mar", "Apr", "May"},
		},
		YAxis:  make([]YAxisOption, 1),
		Legend: LegendOption{SeriesNames: []string{"Price"}},
	}

	painter, err := Render(opt, SVGOutputOptionFunc())
	require.NoError(t, err)
	data, err := painter.Bytes()
	require.NoError(t, err)
	assertEqualSVG(t, "<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 600 400\"><path  d=\"M 0 0\nL 600 0\nL 600 400\nL 0 400\nL 0 0\" style=\"stroke:none;fill:white\"/><path  d=\"M 267 36\nL 282 36\nL 274 23\nL 267 36\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 282 23\nL 297 23\nL 289 36\nL 282 23\" style=\"stroke:none;fill:rgb(238,102,102)\"/><text x=\"299\" y=\"35\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Price</text><text x=\"20\" y=\"36\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Price</text><text x=\"40\" y=\"62\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">125</text><text x=\"19\" y=\"94\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">121.11</text><text x=\"19\" y=\"127\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">117.22</text><text x=\"19\" y=\"160\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">113.33</text><text x=\"19\" y=\"193\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">109.44</text><text x=\"19\" y=\"226\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">105.56</text><text x=\"19\" y=\"259\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">101.67</text><text x=\"27\" y=\"292\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">97.78</text><text x=\"27\" y=\"325\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">93.89</text><text x=\"49\" y=\"358\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">90</text><path  d=\"M 73 56\nL 580 56\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 73 89\nL 580 89\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 73 122\nL 580 122\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 73 155\nL 580 155\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 73 188\nL 580 188\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 73 221\nL 580 221\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 73 254\nL 580 254\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 73 287\nL 580 287\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 73 320\nL 580 320\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 77 354\nL 580 354\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 77 359\nL 77 354\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 177 359\nL 177 354\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 278 359\nL 278 354\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 378 359\nL 378 354\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 479 359\nL 479 354\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 580 359\nL 580 354\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><text x=\"114\" y=\"380\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Jan</text><text x=\"214\" y=\"380\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Feb</text><text x=\"314\" y=\"380\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Mar</text><text x=\"416\" y=\"380\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">Apr</text><text x=\"514\" y=\"380\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">May</text><path  d=\"M 127 184\nL 127 227\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 127 269\nL 127 312\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 107 184\nL 147 184\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 107 312\nL 147 312\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 87 227\nL 167 227\nL 167 269\nL 87 269\nL 87 227\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 227 142\nL 227 167\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 227 227\nL 227 269\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 207 142\nL 247 142\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 207 269\nL 247 269\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 187 167\nL 267 167\nL 267 227\nL 187 227\nL 187 167\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 328 116\nL 328 142\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 328 167\nL 328 201\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 308 116\nL 348 116\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 308 201\nL 348 201\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 288 142\nL 368 142\nL 368 167\nL 288 167\nL 288 142\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 428 99\nL 428 142\" style=\"stroke-width:1;stroke:rgb(238,102,102);fill:none\"/><path  d=\"M 428 201\nL 428 227\" style=\"stroke-width:1;stroke:rgb(238,102,102);fill:none\"/><path  d=\"M 408 99\nL 448 99\" style=\"stroke-width:1;stroke:rgb(238,102,102);fill:none\"/><path  d=\"M 408 227\nL 448 227\" style=\"stroke-width:1;stroke:rgb(238,102,102);fill:none\"/><path  d=\"M 388 142\nL 468 142\nL 468 201\nL 388 201\nL 388 142\" style=\"stroke:none;fill:rgb(238,102,102)\"/><path  d=\"M 529 159\nL 529 193\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 529 201\nL 529 227\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 509 159\nL 549 159\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 509 227\nL 549 227\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 489 193\nL 569 193\nL 569 201\nL 489 201\nL 489 193\" style=\"stroke:none;fill:rgb(145,204,117)\"/></svg>", data)
}

func TestRenderCandlestickMixError(t *testing.T) {
	t.Parallel()

	candlesticks := CandlestickSeriesList{{Data: makeBasicCandlestickData()}}.ToGenericSeriesList()
	line := NewSeriesListLine([][]float64{{1, 2, 3, 4, 5}}).ToGenericSeriesList()

	opt := ChartOption{
		SeriesList: append(candlesticks, line...),
	}

	_, err := Render(opt)
	require.Error(t, err)
	assert.Contains(t, err.Error(), "candlestick can not mix other charts")
}

func TestCandlestickCandleWidthClamped(t *testing.T) {
	t.Parallel()

	opt := makeMinimalCandlestickChartOption()
	opt.CandleWidth = 1
	base := NewPainter(PainterOptions{OutputFormat: ChartOutputSVG, Width: 800, Height: 600})
	require.NoError(t, base.CandlestickChart(opt))
	expected, err := base.Bytes()
	require.NoError(t, err)

	opt.CandleWidth = 2
	over := NewPainter(PainterOptions{OutputFormat: ChartOutputSVG, Width: 800, Height: 600})
	require.NoError(t, over.CandlestickChart(opt))
	actual, err := over.Bytes()
	require.NoError(t, err)

	assert.Equal(t, string(expected), string(actual))
}

func validateCandlestickChartRender(t *testing.T, svgP, pngP *Painter, opt CandlestickChartOption, expectedSVG string, expectedCRC uint32) {
	t.Helper()

	err := svgP.CandlestickChart(opt)
	require.NoError(t, err)
	data, err := svgP.Bytes()
	require.NoError(t, err)
	assertEqualSVG(t, expectedSVG, data)

	err = pngP.CandlestickChart(opt)
	require.NoError(t, err)
	rdata, err := pngP.Bytes()
	require.NoError(t, err)
	assertEqualPNGCRC(t, expectedCRC, rdata)
}

func TestCandlestickYAxisScalingExtremes(t *testing.T) {
	t.Parallel()

	cases := []struct {
		name      string
		data      []OHLCData
		yMin      float64
		yMax      float64
		expectSVG string
	}{
		{
			name: "very_large_millions",
			data: []OHLCData{
				{Open: 1_100_000, High: 1_250_000, Low: 1_000_000, Close: 1_200_000},
				{Open: 1_200_000, High: 1_300_000, Low: 1_150_000, Close: 1_280_000},
			},
			yMin:      1_000_000,
			yMax:      1_500_000,
			expectSVG: "<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 800 600\"><path  d=\"M 0 0\nL 800 0\nL 800 600\nL 0 600\nL 0 0\" style=\"stroke:none;fill:white\"/><text x=\"17\" y=\"16\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">1.5M</text><text x=\"9\" y=\"77\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">1.44M</text><text x=\"9\" y=\"138\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">1.39M</text><text x=\"9\" y=\"200\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">1.33M</text><text x=\"9\" y=\"261\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">1.28M</text><text x=\"9\" y=\"322\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">1.22M</text><text x=\"9\" y=\"384\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">1.17M</text><text x=\"9\" y=\"445\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">1.11M</text><text x=\"9\" y=\"506\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">1.06M</text><text x=\"30\" y=\"568\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">1M</text><path  d=\"M 59 10\nL 790 10\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 59 71\nL 790 71\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 59 133\nL 790 133\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 59 194\nL 790 194\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 59 256\nL 790 256\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 59 317\nL 790 317\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 59 379\nL 790 379\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 59 440\nL 790 440\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 59 502\nL 790 502\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 63 564\nL 790 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 63 569\nL 63 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 426 569\nL 426 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 790 569\nL 790 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><text x=\"239\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">A</text><text x=\"603\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">B</text><path  d=\"M 244 287\nL 244 343\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 244 454\nL 244 564\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 172 287\nL 316 287\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 172 564\nL 316 564\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 99 343\nL 389 343\nL 389 454\nL 99 454\nL 99 343\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 608 232\nL 608 254\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 608 343\nL 608 398\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 536 232\nL 680 232\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 536 398\nL 680 398\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 463 254\nL 753 254\nL 753 343\nL 463 343\nL 463 254\" style=\"stroke:none;fill:rgb(145,204,117)\"/></svg>",
		},
		{
			name: "small_decimals",
			data: []OHLCData{
				{Open: 0.015, High: 0.02, Low: 0.01, Close: 0.018},
				{Open: 0.017, High: 0.025, Low: 0.012, Close: 0.02},
			},
			yMin:      0.0,
			yMax:      0.05,
			expectSVG: "<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 800 600\"><path  d=\"M 0 0\nL 800 0\nL 800 600\nL 0 600\nL 0 0\" style=\"stroke:none;fill:white\"/><text x=\"9\" y=\"16\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">0.05</text><text x=\"9\" y=\"126\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">0.04</text><text x=\"9\" y=\"236\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">0.03</text><text x=\"9\" y=\"347\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">0.02</text><text x=\"9\" y=\"457\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">0.01</text><text x=\"31\" y=\"568\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">0</text><path  d=\"M 46 10\nL 790 10\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 46 120\nL 790 120\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 46 231\nL 790 231\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 46 342\nL 790 342\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 46 453\nL 790 453\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 50 564\nL 790 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 50 569\nL 50 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 420 569\nL 420 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 790 569\nL 790 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><text x=\"230\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">A</text><text x=\"600\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">B</text><path  d=\"M 235 343\nL 235 365\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 235 398\nL 235 454\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 161 343\nL 309 343\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 161 454\nL 309 454\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 87 365\nL 383 365\nL 383 398\nL 87 398\nL 87 365\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 605 287\nL 605 343\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 605 376\nL 605 432\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 531 287\nL 679 287\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 531 432\nL 679 432\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 457 343\nL 753 343\nL 753 376\nL 457 376\nL 457 343\" style=\"stroke:none;fill:rgb(145,204,117)\"/></svg>",
		},
		{
			name: "negative_values",
			data: []OHLCData{
				{Open: -1_000, High: -900, Low: -1_100, Close: -950},
				{Open: -950, High: -800, Low: -1_050, Close: -820},
			},
			yMin:      -2_000,
			yMax:      -500,
			expectSVG: "<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 800 600\"><path  d=\"M 0 0\nL 800 0\nL 800 600\nL 0 600\nL 0 0\" style=\"stroke:none;fill:white\"/><text x=\"31\" y=\"16\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">-500</text><text x=\"9\" y=\"77\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">-666.67</text><text x=\"9\" y=\"138\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">-833.33</text><text x=\"41\" y=\"200\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">-1k</text><text x=\"19\" y=\"261\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">-1.17k</text><text x=\"19\" y=\"322\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">-1.33k</text><text x=\"28\" y=\"384\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">-1.5k</text><text x=\"19\" y=\"445\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">-1.67k</text><text x=\"19\" y=\"506\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">-1.83k</text><text x=\"41\" y=\"568\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">-2k</text><path  d=\"M 69 10\nL 790 10\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 69 71\nL 790 71\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 69 133\nL 790 133\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 69 194\nL 790 194\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 69 256\nL 790 256\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 69 317\nL 790 317\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 69 379\nL 790 379\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 69 440\nL 790 440\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 69 502\nL 790 502\" style=\"stroke-width:1;stroke:rgb(224,230,242);fill:none\"/><path  d=\"M 73 564\nL 790 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 73 569\nL 73 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 431 569\nL 431 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><path  d=\"M 790 569\nL 790 564\" style=\"stroke-width:1;stroke:rgb(110,112,121);fill:none\"/><text x=\"247\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">A</text><text x=\"605\" y=\"590\" style=\"stroke:none;fill:rgb(70,70,70);font-size:15.3px;font-family:'Roboto Medium',sans-serif\">B</text><path  d=\"M 252 158\nL 252 177\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 252 195\nL 252 232\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 181 158\nL 323 158\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 181 232\nL 323 232\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 109 177\nL 395 177\nL 395 195\nL 109 195\nL 109 177\" style=\"stroke:none;fill:rgb(145,204,117)\"/><path  d=\"M 610 121\nL 610 129\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 610 177\nL 610 214\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 539 121\nL 681 121\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 539 214\nL 681 214\" style=\"stroke-width:1;stroke:rgb(145,204,117);fill:none\"/><path  d=\"M 467 129\nL 753 129\nL 753 177\nL 467 177\nL 467 129\" style=\"stroke:none;fill:rgb(145,204,117)\"/></svg>",
		},
	}

	for i, c := range cases {
		t.Run(strconv.Itoa(i)+"-"+c.name, func(t *testing.T) {
			opt := CandlestickChartOption{
				XAxis: XAxisOption{Labels: []string{"A", "B"}},
				YAxis: []YAxisOption{{Min: Ptr(c.yMin), Max: Ptr(c.yMax)}},
				SeriesList: CandlestickSeriesList{{
					Data: c.data,
				}},
				Padding: NewBoxEqual(10),
			}

			p := NewPainter(PainterOptions{OutputFormat: ChartOutputSVG, Width: 800, Height: 600})
			require.NoError(t, p.CandlestickChart(opt))
			svg, err := p.Bytes()
			require.NoError(t, err)
			assertEqualSVG(t, c.expectSVG, svg)
		})
	}
}

func TestCandlestickTrendLineAlignmentSingleSeries(t *testing.T) {
	p := NewPainter(PainterOptions{OutputFormat: ChartOutputSVG, Width: 600, Height: 400})
	data := []OHLCData{{Open: 100, High: 110, Low: 90, Close: 105}, {Open: 105, High: 115, Low: 95, Close: 108}, {Open: 108, High: 118, Low: 100, Close: 112}}
	opt := CandlestickChartOption{
		Theme:   GetDefaultTheme(),
		Padding: NewBoxEqual(0),
		XAxis:   XAxisOption{Labels: []string{"A", "B", "C"}, Show: Ptr(false)},
		YAxis:   make([]YAxisOption, 1),
		SeriesList: CandlestickSeriesList{{
			Data:           data,
			CloseTrendLine: []SeriesTrendLine{{Type: SeriesTrendTypeLinear, DashedLine: Ptr(true)}},
		}},
		ShowWicks: Ptr(false),
	}

	renderResult, err := defaultRender(p, defaultRenderOption{
		theme:          opt.Theme,
		padding:        opt.Padding,
		seriesList:     &opt.SeriesList,
		xAxis:          &opt.XAxis,
		yAxis:          opt.YAxis,
		title:          opt.Title,
		legend:         &opt.Legend,
		valueFormatter: opt.ValueFormatter,
	})
	require.NoError(t, err)

	_, err = newCandlestickChart(p, opt).renderChart(renderResult)
	require.NoError(t, err)
	svgBytes, err := p.Bytes()
	require.NoError(t, err)

	paths := extractDashedPathXCoords(string(svgBytes))
	require.Len(t, paths, 1)
	expected := computeCenters(renderResult, opt, 0)
	assert.Equal(t, expected, paths[0])
}

func TestCandlestickTrendLineAlignmentMultiSeries(t *testing.T) {
	p := NewPainter(PainterOptions{OutputFormat: ChartOutputSVG, Width: 600, Height: 400})
	data := []OHLCData{{Open: 100, High: 110, Low: 90, Close: 105}, {Open: 105, High: 115, Low: 95, Close: 108}, {Open: 108, High: 118, Low: 100, Close: 112}}
	opt := CandlestickChartOption{
		Theme:   GetDefaultTheme(),
		Padding: NewBoxEqual(0),
		XAxis:   XAxisOption{Labels: []string{"A", "B", "C"}, Show: Ptr(false)},
		YAxis:   make([]YAxisOption, 1),
		SeriesList: CandlestickSeriesList{
			{Data: data, CloseTrendLine: []SeriesTrendLine{{Type: SeriesTrendTypeLinear, DashedLine: Ptr(true)}}},
			{Data: data, CloseTrendLine: []SeriesTrendLine{{Type: SeriesTrendTypeLinear, DashedLine: Ptr(true)}}},
		},
		ShowWicks: Ptr(false),
	}

	renderResult, err := defaultRender(p, defaultRenderOption{
		theme:          opt.Theme,
		padding:        opt.Padding,
		seriesList:     &opt.SeriesList,
		xAxis:          &opt.XAxis,
		yAxis:          opt.YAxis,
		title:          opt.Title,
		legend:         &opt.Legend,
		valueFormatter: opt.ValueFormatter,
	})
	require.NoError(t, err)

	_, err = newCandlestickChart(p, opt).renderChart(renderResult)
	require.NoError(t, err)
	svgBytes, err := p.Bytes()
	require.NoError(t, err)

	paths := extractDashedPathXCoords(string(svgBytes))
	require.Len(t, paths, 2)
	expected0 := computeCenters(renderResult, opt, 0)
	expected1 := computeCenters(renderResult, opt, 1)
	assert.Equal(t, expected0, paths[0])
	assert.Equal(t, expected1, paths[1])
}

// extractDashedPathXCoords provides dashed trend line x coordinates from svg.
func extractDashedPathXCoords(svg string) [][]int {
	rePath := regexp.MustCompile(`<path[^>]*stroke-dasharray[^>]*d="([^"]+)"`)
	paths := rePath.FindAllStringSubmatch(svg, -1)
	coordRe := regexp.MustCompile(`[ML] ([0-9]+) [0-9]+`)
	result := make([][]int, len(paths))
	for i, p := range paths {
		coords := coordRe.FindAllStringSubmatch(p[1], -1)
		xs := make([]int, len(coords))
		for j, c := range coords {
			x, _ := strconv.Atoi(c[1])
			xs[j] = x
		}
		result[i] = xs
	}
	return result
}

// computeCenters computes expected center positions (absolute) for series.
func computeCenters(r *defaultRenderResult, opt CandlestickChartOption, seriesIndex int) []int {
	width := r.seriesPainter.Width()
	seriesCount := opt.SeriesList.len()
	maxDataCount := getSeriesMaxDataCount(opt.SeriesList)
	candleWidthRatio := opt.CandleWidth
	if candleWidthRatio <= 0 {
		candleWidthRatio = 0.8
	}
	candleWidth := int(float64(width) * candleWidthRatio / float64(maxDataCount))
	if candleWidth < 1 {
		candleWidth = 1
	}
	candleWidthPerSeries := candleWidth / seriesCount
	if candleWidthPerSeries < 1 {
		candleWidthPerSeries = 1
	}
	divideValues := r.xaxisRange.autoDivide()
	centers := make([]int, len(opt.SeriesList.getSeries(seriesIndex).(*CandlestickSeries).Data))
	for j := range centers {
		if j >= len(divideValues) {
			continue
		}
		var sectionWidth int
		if j < len(divideValues)-1 {
			sectionWidth = divideValues[j+1] - divideValues[j]
		} else if j > 0 {
			sectionWidth = divideValues[j] - divideValues[j-1]
		} else {
			sectionWidth = width / maxDataCount
		}
		var groupMargin, candleMargin, cWidth int
		if seriesCount == 1 {
			cWidth = candleWidthPerSeries
		} else {
			var candleMarginFloat *float64
			if opt.CandleMargin != nil {
				marginPixels := float64(sectionWidth) * (*opt.CandleMargin)
				candleMarginFloat = &marginPixels
			}
			groupMargin, candleMargin, cWidth = calculateCandleMarginsAndSize(seriesCount, sectionWidth, candleWidthPerSeries, candleMarginFloat)
		}
		var center int
		if seriesCount == 1 {
			center = divideValues[j] + sectionWidth/2
		} else {
			x := divideValues[j] + groupMargin + seriesIndex*(cWidth+candleMargin)
			center = x + cWidth/2
		}
		centers[j] = center + r.seriesPainter.box.Left
	}
	return centers
}
